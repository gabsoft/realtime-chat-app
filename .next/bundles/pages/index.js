module.exports=__NEXT_REGISTER_PAGE("/",function(){var t=webpackJsonp([0],{183:function(t,e,r){t.exports=r(184)},184:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=r(7);var i=r.n(n);var o=r(185);var s=r.n(o);var a=function t(e){return i.a.createElement(n["Fragment"],null,i.a.createElement(s.a,null,i.a.createElement("meta",{charSet:"utf-8"}),i.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),i.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossOrigin:"anonymous"}),i.a.createElement("title",null,e.pageTitle||"Realtime Chat")),e.children)};var u=a;var c=r(191);var f=r.n(c);var h=r(210);var l=r.n(h);var p=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}return function(e,r,n){r&&t(e.prototype,r);n&&t(e,n);return e}}();function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){y(e,t);function e(){d(this,e);return v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}p(e,[{key:"render",value:function t(){var e=this.props,r=e.position,n=void 0===r?"left":r,o=e.message;var s="right"===n.toLowerCase();var a=s?"text-right":"text-left";var u=s?"justify-content-end":"justify-content-start";var c={maxWidth:"70%",flexGrow:0};var f={fontWeight:500,lineHeight:1.4,whiteSpace:"pre-wrap"};return i.a.createElement("div",{className:"w-100 my-1 d-flex "+u},i.a.createElement("div",{className:"bg-light rounded border border-gray p-2",style:{messageBoxStyles:c}},i.a.createElement("span",{className:"d-block text-secondary "+a,style:{messageStyles:f}},o)))}}]);return e}(n["Component"]);var m=g;var b=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}return function(e,r,n){r&&t(e.prototype,r);n&&t(e,n);return e}}();function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E=[55357,56864];var k=[55357,56832];var x=[55357,56848];var T=function(t){S(e,t);function e(){var t;var r,n,i;w(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(r=(n=_(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),n),n.state={chats:[]},n.handleKeyUp=function(t){var e=t.target.value;if(13===t.keyCode&&!t.shiftKey){var r=n.props.activeUser;var i={user:r,message:e,timestamp:+new Date};t.target.value="";f.a.post("/message",i)}},r),_(n,i)}b(e,[{key:"componentDidMount",value:function t(){var e=this;this.pusher=new l.a("a61c9765ce87a64a6c9f",{cluster:"us2",forceTLS:true});this.channel=this.pusher.subscribe("chat-room");this.channel.bind("new-message",function(t){var r=t.chat,n=void 0===r?null:r;var i=e.state.chats;n&&i.push(n);e.setState({chats:i})});this.pusher.connection.bind("connected",function(){console.log("Conectado");f.a.post("/messages").then(function(t){var r=t.data.messages;e.setState({chats:r})})})}},{key:"componentWillMount",value:function t(){this.pusher=new l.a("a61c9765ce87a64a6c9f",{cluster:"us2",encrypted:forceTLS});this.pusher.disconnect()}},{key:"render",value:function t(){var e=this;return this.props.activeUser&&i.a.createElement(n["Fragment"],null,i.a.createElement("div",{className:"border-bottom border-gray w-100 d-flex align-items-center bg-white",style:{height:90}},i.a.createElement("h2",{className:"text-dark mb-0 mx-4 px-2"},this.props.activeUser)),i.a.createElement("div",{className:"px-4 pb-4 w-100 d-flex flex-row flex-wrap align-items-start  align-content-start position-relative",style:{height:"calc(100% - 180px)",overflowY:"scroll"}},this.state.chats.map(function(t,r){var o=Math.max(0,r-1);var s=e.state.chats[o];var a=t.user===e.props.activeUser?"right":"left";var u=o===r;var c=t.user===s.user;var f=Math.ceil((t.timestamp-s.timestamp)/6e4)>1;var h=t.sentiment>0?k:0===t.sentiment?x:E;return i.a.createElement(n["Fragment"],{key:r},(u||!c||f)&&i.a.createElement("div",{className:"d-block w-100 font-weight-bold text-dark mt-4\n                                    pb-1 px-1 text-"+a,style:{fontSize:"0.9rem"}},i.a.createElement("span",{className:"d-block",style:{fontSize:"1.6rem"}},String.fromCodePoint.apply(String,h)),i.a.createElement("span",null,t.user||"Anonymous")),i.a.createElement(m,{message:t.message,position:a}))})),i.a.createElement("div",{className:"border-top border-gray w-100 px-4 d-flex align-items-center bg-light",style:{minHeight:90}},i.a.createElement("textarea",{className:"form-control px-3 py-2",onKeyUp:this.handleKeyUp,placeholder:"Enter a chat message",style:{resize:"none"}})))}}]);return e}(n["Component"]);var A=T;var C=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}return function(e,r,n){r&&t(e.prototype,r);n&&t(e,n);return e}}();function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function O(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var U=function(t){O(e,t);function e(){var t;var r,n,i;R(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(r=(n=P(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),n),n.state={user:null},n.handleKeyUp=function(t){if(13===t.keyCode){var e=t.target.value;n.setState({user:e})}},r),P(n,i)}C(e,[{key:"render",value:function t(){var e=this.state.user;var r={background:"transparent",color:"#999",border:0,borderBottom:"1px solid #666",borderRadius:0,fontSize:"3rem",fontWeight:500,boxShadow:"none !important"};return i.a.createElement(u,{pageTitle:"Realtime Chat"},i.a.createElement("main",{className:"container-fluid position-absolute h-100 bg-dark"},i.a.createElement("div",{className:"row position-absolute w-100 h-100"},i.a.createElement("section",{className:"col-md-8 d-flex flex-row flex-wrap align-items-center align-content-center px-5"},i.a.createElement("div",{className:"px-5 mx-5"},i.a.createElement("span",{className:"d-block w-100 h1 text-light",style:{marginTop:-50}},e?i.a.createElement("span",null,i.a.createElement("span",{style:{color:"#999"}},"Hello! "),e):"What is your name?"),!e&&i.a.createElement("input",{type:"text",className:"form-control mt-3 px-3 py-2",onKeyUp:this.handleKeyUp,autoComplete:"off",style:r}))),i.a.createElement("section",{className:"col-md-4 position-relative d-flex flex-wrap h-100 align-items-start  align-content-between bg-white px-0"},e&&i.a.createElement(A,{activeUser:e})))))}}]);return e}(n["Component"]);var M=e["default"]=function(){return i.a.createElement(U,null)}},185:function(t,e,r){t.exports=r(92)},191:function(t,e,r){t.exports=r(192)},192:function(t,e,r){"use strict";var n=r(4);var i=r(94);var o=r(194);var s=r(65);function a(t){var e=new o(t);var r=i(o.prototype.request,e);n.extend(r,o.prototype,e);n.extend(r,e);return r}var u=a(s);u.Axios=o;u.create=function t(e){return a(n.merge(s,e))};u.Cancel=r(98);u.CancelToken=r(208);u.isCancel=r(97);u.all=function t(e){return Promise.all(e)};u.spread=r(209);t.exports=u;t.exports.default=u},193:function(t,e){t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)};function r(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&r(t.slice(0,0))}},194:function(t,e,r){"use strict";var n=r(65);var i=r(4);var o=r(203);var s=r(204);function a(t){this.defaults=t;this.interceptors={request:new o,response:new o}}a.prototype.request=function t(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1]));e=i.merge(n,{method:"get"},this.defaults,e);e.method=e.method.toLowerCase();var r=[s,void 0];var o=Promise.resolve(e);this.interceptors.request.forEach(function t(e){r.unshift(e.fulfilled,e.rejected)});this.interceptors.response.forEach(function t(e){r.push(e.fulfilled,e.rejected)});while(r.length)o=o.then(r.shift(),r.shift());return o};i.forEach(["delete","get","head","options"],function t(e){a.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}});i.forEach(["post","put","patch"],function t(e){a.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}});t.exports=a},195:function(t,e,r){"use strict";var n=r(4);t.exports=function t(e,r){n.forEach(e,function t(n,i){if(i!==r&&i.toUpperCase()===r.toUpperCase()){e[r]=n;delete e[i]}})}},196:function(t,e,r){"use strict";var n=r(96);t.exports=function t(e,r,i){var o=i.config.validateStatus;i.status&&o&&!o(i.status)?r(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},197:function(t,e,r){"use strict";t.exports=function t(e,r,n,i,o){e.config=r;n&&(e.code=n);e.request=i;e.response=o;return e}},198:function(t,e,r){"use strict";var n=r(4);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function t(e,r,o){if(!r)return e;var s;if(o)s=o(r);else if(n.isURLSearchParams(r))s=r.toString();else{var a=[];n.forEach(r,function t(e,r){if(null===e||"undefined"===typeof e)return;n.isArray(e)?r+="[]":e=[e];n.forEach(e,function t(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e));a.push(i(r)+"="+i(e))})});s=a.join("&")}s&&(e+=(-1===e.indexOf("?")?"?":"&")+s);return e}},199:function(t,e,r){"use strict";var n=r(4);var i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function t(e){var r={};var o;var s;var a;if(!e)return r;n.forEach(e.split("\n"),function t(e){a=e.indexOf(":");o=n.trim(e.substr(0,a)).toLowerCase();s=n.trim(e.substr(a+1));if(o){if(r[o]&&i.indexOf(o)>=0)return;r[o]="set-cookie"===o?(r[o]?r[o]:[]).concat([s]):r[o]?r[o]+", "+s:s}});return r}},200:function(t,e,r){"use strict";var n=r(4);t.exports=n.isStandardBrowserEnv()?function t(){var e=/(msie|trident)/i.test(navigator.userAgent);var r=document.createElement("a");var i;function o(t){var n=t;if(e){r.setAttribute("href",n);n=r.href}r.setAttribute("href",n);return{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}i=o(window.location.href);return function t(e){var r=n.isString(e)?o(e):e;return r.protocol===i.protocol&&r.host===i.host}}():function t(){return function t(){return true}}()},201:function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error;i.prototype.code=5;i.prototype.name="InvalidCharacterError";function o(t){var e=String(t);var r="";for(var o,s,a=0,u=n;e.charAt(0|a)||(u="=",a%1);r+=u.charAt(63&o>>8-a%1*8)){s=e.charCodeAt(a+=.75);if(s>255)throw new i;o=o<<8|s}return r}t.exports=o},202:function(t,e,r){"use strict";var n=r(4);t.exports=n.isStandardBrowserEnv()?function t(){return{write:function t(e,r,i,o,s,a){var u=[];u.push(e+"="+encodeURIComponent(r));n.isNumber(i)&&u.push("expires="+new Date(i).toGMTString());n.isString(o)&&u.push("path="+o);n.isString(s)&&u.push("domain="+s);true===a&&u.push("secure");document.cookie=u.join("; ")},read:function t(e){var r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function t(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function t(){},read:function t(){return null},remove:function t(){}}}()},203:function(t,e,r){"use strict";var n=r(4);function i(){this.handlers=[]}i.prototype.use=function t(e,r){this.handlers.push({fulfilled:e,rejected:r});return this.handlers.length-1};i.prototype.eject=function t(e){this.handlers[e]&&(this.handlers[e]=null)};i.prototype.forEach=function t(e){n.forEach(this.handlers,function t(r){null!==r&&e(r)})};t.exports=i},204:function(t,e,r){"use strict";var n=r(4);var i=r(205);var o=r(97);var s=r(65);var a=r(206);var u=r(207);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function t(e){c(e);e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url));e.headers=e.headers||{};e.data=i(e.data,e.headers,e.transformRequest);e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{});n.forEach(["delete","get","head","post","put","patch","common"],function t(r){delete e.headers[r]});var r=e.adapter||s.adapter;return r(e).then(function t(r){c(e);r.data=i(r.data,r.headers,e.transformResponse);return r},function t(r){if(!o(r)){c(e);r&&r.response&&(r.response.data=i(r.response.data,r.response.headers,e.transformResponse))}return Promise.reject(r)})}},205:function(t,e,r){"use strict";var n=r(4);t.exports=function t(e,r,i){n.forEach(i,function t(n){e=n(e,r)});return e}},206:function(t,e,r){"use strict";t.exports=function t(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},207:function(t,e,r){"use strict";t.exports=function t(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}},208:function(t,e,r){"use strict";var n=r(98);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function t(r){e=r});var r=this;t(function t(i){if(r.reason)return;r.reason=new n(i);e(r.reason)})}i.prototype.throwIfRequested=function t(){if(this.reason)throw this.reason};i.source=function t(){var e;var r=new i(function t(r){e=r});return{token:r,cancel:e}};t.exports=i},209:function(t,e,r){"use strict";t.exports=function t(e){return function t(r){return e.apply(null,r)}}},210:function(t,e,r){(function e(r,n){true;t.exports=n()})(this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:false};t[n].call(i.exports,i,i.exports,r);i.loaded=true;return i.exports}r.m=t;r.c=e;r.p="";return r(0)}([function(t,e,r){"use strict";var n=r(1);t.exports=n["default"]},function(t,e,r){"use strict";var n=r(2);var i=r(9);var o=r(24);var s=r(39);var a=r(40);var u=r(41);var c=r(12);var f=r(5);var h=r(71);var l=r(8);var p=r(43);var d=r(14);var v=function(){function t(e,r){var c=this;y(e);r=r||{};if(!r.cluster&&!(r.wsHost||r.httpHost)){var v=d["default"].buildLogSuffix("javascriptQuickStart");l["default"].warn("You should always specify a cluster when connecting. "+v)}this.key=e;this.config=i.extend(h.getGlobalConfig(),r.cluster?h.getClusterConfig(r.cluster):{},r);this.channels=p["default"].createChannels();this.global_emitter=new o["default"];this.sessionID=Math.floor(1e9*Math.random());this.timeline=new s["default"](this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a["default"].INFO,version:f["default"].VERSION});this.config.disableStats||(this.timelineSender=p["default"].createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+n["default"].TimelineTransport.name}));var g=function(t){var e=i.extend({},c.config,t);return u.build(n["default"].getDefaultStrategy(e),e)};this.connection=p["default"].createConnectionManager(this.key,i.extend({getStrategy:g,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()}));this.connection.bind("connected",function(){c.subscribeAll();c.timelineSender&&c.timelineSender.send(c.connection.isUsingTLS())});this.connection.bind("message",function(t){var e=t.event;var r=0===e.indexOf("pusher_internal:");if(t.channel){var n=c.channel(t.channel);n&&n.handleEvent(t)}r||c.global_emitter.emit(t.event,t.data)});this.connection.bind("connecting",function(){c.channels.disconnect()});this.connection.bind("disconnected",function(){c.channels.disconnect()});this.connection.bind("error",function(t){l["default"].warn("Error",t)});t.instances.push(this);this.timeline.info({instances:t.instances.length});t.isReady&&this.connect()}t.ready=function(){t.isReady=true;for(var e=0,r=t.instances.length;e<r;e++)t.instances[e].connect()};t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)};t.getClientFeatures=function(){return i.keys(i.filterObject({ws:n["default"].Transports.ws},function(t){return t.isSupported({})}))};t.prototype.channel=function(t){return this.channels.find(t)};t.prototype.allChannels=function(){return this.channels.all()};t.prototype.connect=function(){this.connection.connect();if(this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS();var e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}};t.prototype.disconnect=function(){this.connection.disconnect();if(this.timelineSenderTimer){this.timelineSenderTimer.ensureAborted();this.timelineSenderTimer=null}};t.prototype.bind=function(t,e,r){this.global_emitter.bind(t,e,r);return this};t.prototype.unbind=function(t,e,r){this.global_emitter.unbind(t,e,r);return this};t.prototype.bind_global=function(t){this.global_emitter.bind_global(t);return this};t.prototype.unbind_global=function(t){this.global_emitter.unbind_global(t);return this};t.prototype.unbind_all=function(t){this.global_emitter.unbind_all();return this};t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)};t.prototype.subscribe=function(t){var e=this.channels.add(t,this);e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe();return e};t.prototype.unsubscribe=function(t){var e=this.channels.find(t);if(e&&e.subscriptionPending)e.cancelSubscription();else{e=this.channels.remove(t);e&&"connected"===this.connection.state&&e.unsubscribe()}};t.prototype.send_event=function(t,e,r){return this.connection.send_event(t,e,r)};t.prototype.shouldUseTLS=function(){return"https:"===n["default"].getProtocol()||(true===this.config.forceTLS||Boolean(this.config.encrypted))};t.instances=[];t.isReady=false;t.logToConsole=false;t.Runtime=n["default"];t.ScriptReceivers=n["default"].ScriptReceivers;t.DependenciesReceivers=n["default"].DependenciesReceivers;t.auth_callbacks=n["default"].auth_callbacks;return t}();e.__esModule=true;e["default"]=v;function y(t){if(null===t||void 0===t)throw"You must pass your app key when you instantiate Pusher."}n["default"].setup(v)},function(t,e,r){"use strict";var n=r(3);var i=r(7);var o=r(15);var s=r(16);var a=r(17);var u=r(4);var c=r(18);var f=r(19);var h=r(26);var l=r(27);var p=r(28);var d=r(29);var v={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:n.DependenciesReceivers,getDefaultStrategy:l["default"],Transports:f["default"],transportConnectionInitializer:p["default"],HTTPFactory:d["default"],TimelineTransport:c["default"],getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var r=function(){e.onDocumentBody(t.ready)};window.JSON?r():n.Dependencies.load("json2",{},r)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:i["default"],jsonp:o["default"]}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new a["default"](t,e)},createScriptRequest:function(t){return new s["default"](t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var t=this.getXHRAPI();return new t},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return h.Network},createWebSocket:function(t){var e=this.getWebSocketAPI();return new e(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:";var r=this.getProtocol();return Boolean(window["XDomainRequest"])&&r===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,false):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,false):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=true;e["default"]=v},function(t,e,r){"use strict";var n=r(4);var i=r(5);var o=r(6);e.DependenciesReceivers=new n.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers");e.Dependencies=new o["default"]({cdn_http:i["default"].cdn_http,cdn_https:i["default"].cdn_https,version:i["default"].VERSION,suffix:i["default"].dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var r=function(){function t(t,e){this.lastId=0;this.prefix=t;this.name=e}t.prototype.create=function(t){this.lastId++;var e=this.lastId;var r=this.prefix+e;var n=this.name+"["+e+"]";var i=false;var o=function(){if(!i){t.apply(null,arguments);i=true}};this[e]=o;return{number:e,id:r,name:n,callback:o}};t.prototype.remove=function(t){delete this[t.number]};return t}();e.ScriptReceiverFactory=r;e.ScriptReceivers=new r("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";var r={VERSION:"4.4.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""};e.__esModule=true;e["default"]=r},function(t,e,r){"use strict";var n=r(4);var i=r(2);var o=function(){function t(t){this.options=t;this.receivers=t.receivers||n.ScriptReceivers;this.loading={}}t.prototype.load=function(t,e,r){var n=this;if(n.loading[t]&&n.loading[t].length>0)n.loading[t].push(r);else{n.loading[t]=[r];var o=i["default"].createScriptRequest(n.getPath(t,e));var s=n.receivers.create(function(e){n.receivers.remove(s);if(n.loading[t]){var r=n.loading[t];delete n.loading[t];var i=function(t){t||o.cleanup()};for(var a=0;a<r.length;a++)r[a](e,i)}});o.send(s)}};t.prototype.getRoot=function(t){var e;var r=i["default"].getDocument().location.protocol;e=t&&t.useTLS||"https:"===r?this.options.cdn_https:this.options.cdn_http;return e.replace(/\/*$/,"")+"/"+this.options.version};t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"};return t}();e.__esModule=true;e["default"]=o},function(t,e,r){"use strict";var n=r(8);var i=r(2);var o=r(14);var s=function(t,e,r){var s=this,a;a=i["default"].createXHR();a.open("POST",s.options.authEndpoint,true);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var u in this.authOptions.headers)a.setRequestHeader(u,this.authOptions.headers[u]);a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var t,e=false;try{t=JSON.parse(a.responseText);e=true}catch(t){r(true,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}e&&r(false,t)}else{var i=o["default"].buildLogSuffix("authenticationEndpoint");n["default"].warn("Couldn't retrieve authentication info. "+a.status+"Clients must be authenticated to join private or presence channels. "+i);r(true,a.status)}};a.send(this.composeQuery(e));return a};e.__esModule=true;e["default"]=s},function(t,e,r){"use strict";var n=r(9);var i=r(1);var o={debug:function(){var t=[];for(var e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(!i["default"].log)return;i["default"].log(n.stringify.apply(this,arguments))},warn:function(){var t=[];for(var e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=n.stringify.apply(this,arguments);i["default"].log?i["default"].log(r):window.console&&(window.console.warn?window.console.warn(r):window.console.log&&window.console.log(r))}};e.__esModule=true;e["default"]=o},function(t,e,r){"use strict";var n=r(10);var i=r(11);function o(t){var e=[];for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n++){var i=e[n];for(var s in i)i[s]&&i[s].constructor&&i[s].constructor===Object?t[s]=o(t[s]||{},i[s]):t[s]=i[s]}return t}e.extend=o;function s(){var t=["Pusher"];for(var e=0;e<arguments.length;e++)"string"===typeof arguments[e]?t.push(arguments[e]):t.push(S(arguments[e]));return t.join(" : ")}e.stringify=s;function a(t,e){var r=Array.prototype.indexOf;if(null===t)return-1;if(r&&t.indexOf===r)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}e.arrayIndexOf=a;function u(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}e.objectApply=u;function c(t){var e=[];u(t,function(t,r){e.push(r)});return e}e.keys=c;function f(t){var e=[];u(t,function(t){e.push(t)});return e}e.values=f;function h(t,e,r){for(var n=0;n<t.length;n++)e.call(r||window,t[n],n,t)}e.apply=h;function l(t,e){var r=[];for(var n=0;n<t.length;n++)r.push(e(t[n],n,t,r));return r}e.map=l;function p(t,e){var r={};u(t,function(t,n){r[n]=e(t)});return r}e.mapObject=p;function d(t,e){e=e||function(t){return!!t};var r=[];for(var n=0;n<t.length;n++)e(t[n],n,t,r)&&r.push(t[n]);return r}e.filter=d;function v(t,e){var r={};u(t,function(n,i){(e&&e(n,i,t,r)||Boolean(n))&&(r[i]=n)});return r}e.filterObject=v;function y(t){var e=[];u(t,function(t,r){e.push([r,t])});return e}e.flatten=y;function g(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r,t))return true;return false}e.any=g;function m(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r,t))return false;return true}e.all=m;function b(t){return p(t,function(t){"object"===typeof t&&(t=S(t));return encodeURIComponent(n["default"](t.toString()))})}e.encodeParamsObject=b;function w(t){var e=v(t,function(t){return void 0!==t});var r=l(y(b(e)),i["default"].method("join","=")).join("&");return r}e.buildQueryString=w;function _(t){var e=[],r=[];return function t(n,i){var o,s,a;switch(typeof n){case"object":if(!n)return null;for(o=0;o<e.length;o+=1)if(e[o]===n)return{$ref:r[o]};e.push(n);r.push(i);if("[object Array]"===Object.prototype.toString.apply(n)){a=[];for(o=0;o<n.length;o+=1)a[o]=t(n[o],i+"["+o+"]")}else{a={};for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=t(n[s],i+"["+JSON.stringify(s)+"]"))}return a;case"number":case"string":case"boolean":return n}}(t,"$")}e.decycleObject=_;function S(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(_(t))}}e.safeJSONStringify=S},function(t,e,r){"use strict";function n(t){return l(f(t))}e.__esModule=true;e["default"]=n;var i=String.fromCharCode;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var s={};for(var a=0,u=o.length;a<u;a++)s[o.charAt(a)]=a;var c=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?i(192|e>>>6)+i(128|63&e):i(224|e>>>12&15)+i(128|e>>>6&63)+i(128|63&e)};var f=function(t){return t.replace(/[^\x00-\x7F]/g,c)};var h=function(t){var e=[0,2,1][t.length%3];var r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);var n=[o.charAt(r>>>18),o.charAt(r>>>12&63),e>=2?"=":o.charAt(r>>>6&63),e>=1?"=":o.charAt(63&r)];return n.join("")};var l=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,h)}},function(t,e,r){"use strict";var n=r(12);var i={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new n.OneOffTimer(0,t)},method:function(t){var e=[];for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}};e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(13);function o(t){window.clearTimeout(t)}function s(t){window.clearInterval(t)}var a=function(t){n(e,t);function e(e,r){t.call(this,setTimeout,o,e,function(t){r();return null})}return e}(i["default"]);e.OneOffTimer=a;var u=function(t){n(e,t);function e(e,r){t.call(this,setInterval,s,e,function(t){r();return t})}return e}(i["default"]);e.PeriodicTimer=u},function(t,e){"use strict";var r=function(){function t(t,e,r,n){var i=this;this.clear=e;this.timer=t(function(){i.timer&&(i.timer=n(i.timer))},r)}t.prototype.isRunning=function(){return null!==this.timer};t.prototype.ensureAborted=function(){if(this.timer){this.clear(this.timer);this.timer=null}};return t}();e.__esModule=true;e["default"]=r},function(t,e){"use strict";var r={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}};var n=function(t){var e="See:";var n=r.urls[t];if(!n)return"";var i;n.fullUrl?i=n.fullUrl:n.path&&(i=r.baseUrl+n.path);if(!i)return"";return e+" "+i};e.__esModule=true;e["default"]={buildLogSuffix:n}},function(t,e,r){"use strict";var n=r(8);var i=function(t,e,r){void 0!==this.authOptions.headers&&n["default"].warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument();var s=o.createElement("script");t.auth_callbacks[i]=function(t){r(false,t)};var a="Pusher.auth_callbacks['"+i+"']";s.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var u=o.getElementsByTagName("head")[0]||o.documentElement;u.insertBefore(s,u.firstChild)};e.__esModule=true;e["default"]=i},function(t,e){"use strict";var r=function(){function t(t){this.src=t}t.prototype.send=function(t){var e=this;var r="Error loading "+e.src;e.script=document.createElement("script");e.script.id=t.id;e.script.src=e.src;e.script.type="text/javascript";e.script.charset="UTF-8";if(e.script.addEventListener){e.script.onerror=function(){t.callback(r)};e.script.onload=function(){t.callback(null)}}else e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)};if(void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)){e.errorScript=document.createElement("script");e.errorScript.id=t.id+"_error";e.errorScript.text=t.name+"('"+r+"');";e.script.async=e.errorScript.async=false}else e.script.async=true;var n=document.getElementsByTagName("head")[0];n.insertBefore(e.script,n.firstChild);e.errorScript&&n.insertBefore(e.errorScript,e.script.nextSibling)};t.prototype.cleanup=function(){if(this.script){this.script.onload=this.script.onerror=null;this.script.onreadystatechange=null}this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script);this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript);this.script=null;this.errorScript=null};return t}();e.__esModule=true;e["default"]=r},function(t,e,r){"use strict";var n=r(9);var i=r(2);var o=function(){function t(t,e){this.url=t;this.data=e}t.prototype.send=function(t){if(this.request)return;var e=n.buildQueryString(this.data);var r=this.url+"/"+t.number+"?"+e;this.request=i["default"].createScriptRequest(r);this.request.send(t)};t.prototype.cleanup=function(){this.request&&this.request.cleanup()};return t}();e.__esModule=true;e["default"]=o},function(t,e,r){"use strict";var n=r(2);var i=r(4);var o=function(t,e){return function(r,o){var s="http"+(e?"s":"")+"://";var a=s+(t.host||t.options.host)+t.options.path;var u=n["default"].createJSONPRequest(a,r);var c=n["default"].ScriptReceivers.create(function(e,r){i.ScriptReceivers.remove(c);u.cleanup();r&&r.host&&(t.host=r.host);o&&o(e,r)});u.send(c)}};var s={name:"jsonp",getAgent:o};e.__esModule=true;e["default"]=s},function(t,e,r){"use strict";var n=r(20);var i=r(22);var o=r(21);var s=r(2);var a=r(3);var u=r(9);var c=new i["default"]({file:"sockjs",urls:o.sockjs,handlesActivityChecks:true,supportsPing:false,isSupported:function(){return true},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.Dependencies.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}});var f={isSupported:function(t){var e=s["default"].isXDRSupported(t.useTLS);return e}};var h=new i["default"](u.extend({},n.streamingConfiguration,f));var l=new i["default"](u.extend({},n.pollingConfiguration,f));n["default"].xdr_streaming=h;n["default"].xdr_polling=l;n["default"].sockjs=c;e.__esModule=true;e["default"]=n["default"]},function(t,e,r){"use strict";var n=r(21);var i=r(22);var o=r(9);var s=r(2);var a=new i["default"]({urls:n.ws,handlesActivityChecks:false,supportsPing:false,isInitialized:function(){return Boolean(s["default"].getWebSocketAPI())},isSupported:function(){return Boolean(s["default"].getWebSocketAPI())},getSocket:function(t){return s["default"].createWebSocket(t)}});var u={urls:n.http,handlesActivityChecks:false,supportsPing:true,isInitialized:function(){return true}};e.streamingConfiguration=o.extend({getSocket:function(t){return s["default"].HTTPFactory.createStreamingSocket(t)}},u);e.pollingConfiguration=o.extend({getSocket:function(t){return s["default"].HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return s["default"].isXHRSupported()}};var f=new i["default"](o.extend({},e.streamingConfiguration,c));var h=new i["default"](o.extend({},e.pollingConfiguration,c));var l={ws:a,xhr_streaming:f,xhr_polling:h};e.__esModule=true;e["default"]=l},function(t,e,r){"use strict";var n=r(5);function i(t,e,r){var n=t+(e.useTLS?"s":"");var i=e.useTLS?e.hostTLS:e.hostNonTLS;return n+"://"+i+r}function o(t,e){var r="/app/"+t;var i="?protocol="+n["default"].PROTOCOL+"&client=js&version="+n["default"].VERSION+(e?"&"+e:"");return r+i}e.ws={getInitial:function(t,e){var r=(e.httpPath||"")+o(t,"flash=false");return i("ws",e,r)}};e.http={getInitial:function(t,e){var r=(e.httpPath||"/pusher")+o(t);return i("http",e,r)}};e.sockjs={getInitial:function(t,e){return i("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return o(t)}}},function(t,e,r){"use strict";var n=r(23);var i=function(){function t(t){this.hooks=t}t.prototype.isSupported=function(t){return this.hooks.isSupported(t)};t.prototype.createConnection=function(t,e,r,i){return new n["default"](this.hooks,t,e,r,i)};return t}();e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(11);var o=r(9);var s=r(24);var a=r(8);var u=r(2);var c=function(t){n(e,t);function e(e,r,n,i,o){t.call(this);this.initialize=u["default"].transportConnectionInitializer;this.hooks=e;this.name=r;this.priority=n;this.key=i;this.options=o;this.state="new";this.timeline=o.timeline;this.activityTimeout=o.activityTimeout;this.id=this.timeline.generateUniqueID()}e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)};e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)};e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return false;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){i["default"].defer(function(){t.onError(e);t.changeState("closed")});return false}this.bindListeners();a["default"].debug("Connecting",{transport:this.name,url:e});this.changeState("connecting");return true};e.prototype.close=function(){if(this.socket){this.socket.close();return true}return false};e.prototype.send=function(t){var e=this;if("open"===this.state){i["default"].defer(function(){e.socket&&e.socket.send(t)});return true}return false};e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()};e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options));this.changeState("open");this.socket.onopen=void 0};e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t});this.timeline.error(this.buildTimelineMessage({error:t.toString()}))};e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed");this.unbindListeners();this.socket=void 0};e.prototype.onMessage=function(t){this.emit("message",t)};e.prototype.onActivity=function(){this.emit("activity")};e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()};this.socket.onerror=function(e){t.onError(e)};this.socket.onclose=function(e){t.onClose(e)};this.socket.onmessage=function(e){t.onMessage(e)};this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})};e.prototype.unbindListeners=function(){if(this.socket){this.socket.onopen=void 0;this.socket.onerror=void 0;this.socket.onclose=void 0;this.socket.onmessage=void 0;this.supportsPing()&&(this.socket.onactivity=void 0)}};e.prototype.changeState=function(t,e){this.state=t;this.timeline.info(this.buildTimelineMessage({state:t,params:e}));this.emit(t,e)};e.prototype.buildTimelineMessage=function(t){return o.extend({cid:this.id},t)};return e}(s["default"]);e.__esModule=true;e["default"]=c},function(t,e,r){"use strict";var n=r(9);var i=r(25);var o=function(){function t(t){this.callbacks=new i["default"];this.global_callbacks=[];this.failThrough=t}t.prototype.bind=function(t,e,r){this.callbacks.add(t,e,r);return this};t.prototype.bind_global=function(t){this.global_callbacks.push(t);return this};t.prototype.unbind=function(t,e,r){this.callbacks.remove(t,e,r);return this};t.prototype.unbind_global=function(t){if(!t){this.global_callbacks=[];return this}this.global_callbacks=n.filter(this.global_callbacks||[],function(e){return e!==t});return this};t.prototype.unbind_all=function(){this.unbind();this.unbind_global();return this};t.prototype.emit=function(t,e,r){for(var n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);var o=[];r?o.push(e,r):e&&o.push(e);if(i&&i.length>0)for(var n=0;n<i.length;n++)i[n].fn.apply(i[n].context||window,o);else this.failThrough&&this.failThrough(t,e);return this};return t}();e.__esModule=true;e["default"]=o},function(t,e,r){"use strict";var n=r(9);var i=function(){function t(){this._callbacks={}}t.prototype.get=function(t){return this._callbacks[o(t)]};t.prototype.add=function(t,e,r){var n=o(t);this._callbacks[n]=this._callbacks[n]||[];this._callbacks[n].push({fn:e,context:r})};t.prototype.remove=function(t,e,r){if(!t&&!e&&!r){this._callbacks={};return}var i=t?[o(t)]:n.keys(this._callbacks);e||r?this.removeCallback(i,e,r):this.removeAllCallbacks(i)};t.prototype.removeCallback=function(t,e,r){n.apply(t,function(t){this._callbacks[t]=n.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||r&&r!==t.context});0===this._callbacks[t].length&&delete this._callbacks[t]},this)};t.prototype.removeAllCallbacks=function(t){n.apply(t,function(t){delete this._callbacks[t]},this)};return t}();e.__esModule=true;e["default"]=i;function o(t){return"_"+t}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(24);var o=function(t){n(e,t);function e(){t.call(this);var e=this;if(void 0!==window.addEventListener){window.addEventListener("online",function(){e.emit("online")},false);window.addEventListener("offline",function(){e.emit("offline")},false)}}e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine};return e}(i["default"]);e.NetInfo=o;e.Network=new o},function(t,e){"use strict";var r=function(t){var e;e=t.useTLS?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]];return[[":def","ws_options",{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{useTLS:true}]],[":def","sockjs_options",{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:true,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]};e.__esModule=true;e["default"]=r},function(t,e,r){"use strict";var n=r(3);function i(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")}));if(t.hooks.isInitialized())t.changeState("initialized");else if(t.hooks.file){t.changeState("initializing");n.Dependencies.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,r){if(t.hooks.isInitialized()){t.changeState("initialized");r(true)}else{e&&t.onError(e);t.onClose();r(false)}})}else t.onClose()}e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=r(30);var i=r(32);i["default"].createXDR=function(t,e){return this.createRequest(n["default"],t,e)};e.__esModule=true;e["default"]=i["default"]},function(t,e,r){"use strict";var n=r(31);var i={getRequest:function(t){var e=new window.XDomainRequest;e.ontimeout=function(){t.emit("error",new n.RequestTimedOut);t.close()};e.onerror=function(e){t.emit("error",e);t.close()};e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)};e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText);t.emit("finished",200);t.close()};return e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null;t.abort()}};e.__esModule=true;e["default"]=i},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var n=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.BadEventName=n;var i=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.RequestTimedOut=i;var o=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.TransportPriorityTooLow=o;var s=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.TransportClosed=s;var a=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.UnsupportedFeature=a;var u=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.UnsupportedTransport=u;var c=function(t){r(e,t);function e(){t.apply(this,arguments)}return e}(Error);e.UnsupportedStrategy=c},function(t,e,r){"use strict";var n=r(33);var i=r(34);var o=r(36);var s=r(37);var a=r(38);var u={createStreamingSocket:function(t){return this.createSocket(o["default"],t)},createPollingSocket:function(t){return this.createSocket(s["default"],t)},createSocket:function(t,e){return new i["default"](t,e)},createXHR:function(t,e){return this.createRequest(a["default"],t,e)},createRequest:function(t,e,r){return new n["default"](t,e,r)}};e.__esModule=true;e["default"]=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(2);var o=r(24);var s=262144;var a=function(t){n(e,t);function e(e,r,n){t.call(this);this.hooks=e;this.method=r;this.url=n}e.prototype.start=function(t){var e=this;this.position=0;this.xhr=this.hooks.getRequest(this);this.unloader=function(){e.close()};i["default"].addUnloadListener(this.unloader);this.xhr.open(this.method,this.url,true);this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json");this.xhr.send(t)};e.prototype.close=function(){if(this.unloader){i["default"].removeUnloadListener(this.unloader);this.unloader=null}if(this.xhr){this.hooks.abortRequest(this.xhr);this.xhr=null}};e.prototype.onChunk=function(t,e){while(true){var r=this.advanceBuffer(e);if(!r)break;this.emit("chunk",{status:t,data:r})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")};e.prototype.advanceBuffer=function(t){var e=t.slice(this.position);var r=e.indexOf("\n");if(-1!==r){this.position+=r+1;return e.slice(0,r)}return null};e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>s};return e}(o["default"]);e.__esModule=true;e["default"]=a},function(t,e,r){"use strict";var n=r(35);var i=r(11);var o=r(2);var s=1;var a=function(){function t(t,e){this.hooks=t;this.session=l(1e3)+"/"+p(8);this.location=u(e);this.readyState=n["default"].CONNECTING;this.openStream()}t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))};t.prototype.ping=function(){this.hooks.sendHeartbeat(this)};t.prototype.close=function(t,e){this.onClose(t,e,true)};t.prototype.sendRaw=function(t){if(this.readyState!==n["default"].OPEN)return false;try{o["default"].createSocketRequest("POST",f(c(this.location,this.session))).start(t);return true}catch(t){return false}};t.prototype.reconnect=function(){this.closeStream();this.openStream()};t.prototype.onClose=function(t,e,r){this.closeStream();this.readyState=n["default"].CLOSED;this.onclose&&this.onclose({code:t,reason:e,wasClean:r})};t.prototype.onChunk=function(t){if(200!==t.status)return;this.readyState===n["default"].OPEN&&this.onActivity();var e;var r=t.data.slice(0,1);switch(r){case"o":e=JSON.parse(t.data.slice(1)||"{}");this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var i=0;i<e.length;i++)this.onEvent(e[i]);break;case"m":e=JSON.parse(t.data.slice(1)||"null");this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]");this.onClose(e[0],e[1],true);break}};t.prototype.onOpen=function(t){if(this.readyState===n["default"].CONNECTING){t&&t.hostname&&(this.location.base=h(this.location.base,t.hostname));this.readyState=n["default"].OPEN;this.onopen&&this.onopen()}else this.onClose(1006,"Server lost session",true)};t.prototype.onEvent=function(t){this.readyState===n["default"].OPEN&&this.onmessage&&this.onmessage({data:t})};t.prototype.onActivity=function(){this.onactivity&&this.onactivity()};t.prototype.onError=function(t){this.onerror&&this.onerror(t)};t.prototype.openStream=function(){var t=this;this.stream=o["default"].createSocketRequest("POST",f(this.hooks.getReceiveURL(this.location,this.session)));this.stream.bind("chunk",function(e){t.onChunk(e)});this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)});this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){i["default"].defer(function(){t.onError(e);t.onClose(1006,"Could not start streaming",false)})}};t.prototype.closeStream=function(){if(this.stream){this.stream.unbind_all();this.stream.close();this.stream=null}};return t}();function u(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function c(t,e){return t.base+"/"+e+"/xhr_send"}function f(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+s++}function h(t,e){var r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return r[1]+e+r[3]}function l(t){return Math.floor(Math.random()*t)}function p(t){var e=[];for(var r=0;r<t;r++)e.push(l(32).toString(32));return e.join("")}e.__esModule=true;e["default"]=a},function(t,e){"use strict";var r;(function(t){t[t["CONNECTING"]=0]="CONNECTING";t[t["OPEN"]=1]="OPEN";t[t["CLOSED"]=3]="CLOSED"})(r||(r={}));e.__esModule=true;e["default"]=r},function(t,e){"use strict";var r={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",false)}};e.__esModule=true;e["default"]=r},function(t,e){"use strict";var r={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",false)}};e.__esModule=true;e["default"]=r},function(t,e,r){"use strict";var n=r(2);var i={getRequest:function(t){var e=n["default"].getXHRAPI();var r=new e;r.onreadystatechange=r.onprogress=function(){switch(r.readyState){case 3:r.responseText&&r.responseText.length>0&&t.onChunk(r.status,r.responseText);break;case 4:r.responseText&&r.responseText.length>0&&t.onChunk(r.status,r.responseText);t.emit("finished",r.status);t.close();break}};return r},abortRequest:function(t){t.onreadystatechange=null;t.abort()}};e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=r(9);var i=r(11);var o=r(40);var s=function(){function t(t,e,r){this.key=t;this.session=e;this.events=[];this.options=r||{};this.sent=0;this.uniqueID=0}t.prototype.log=function(t,e){if(t<=this.options.level){this.events.push(n.extend({},e,{timestamp:i["default"].now()}));this.options.limit&&this.events.length>this.options.limit&&this.events.shift()}};t.prototype.error=function(t){this.log(o["default"].ERROR,t)};t.prototype.info=function(t){this.log(o["default"].INFO,t)};t.prototype.debug=function(t){this.log(o["default"].DEBUG,t)};t.prototype.isEmpty=function(){return 0===this.events.length};t.prototype.send=function(t,e){var r=this;var i=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);this.events=[];t(i,function(t,n){t||r.sent++;e&&e(t,n)});return true};t.prototype.generateUniqueID=function(){this.uniqueID++;return this.uniqueID};return t}();e.__esModule=true;e["default"]=s},function(t,e){"use strict";var r;(function(t){t[t["ERROR"]=3]="ERROR";t[t["INFO"]=6]="INFO";t[t["DEBUG"]=7]="DEBUG"})(r||(r={}));e.__esModule=true;e["default"]=r},function(t,e,r){"use strict";var n=r(9);var i=r(11);var o=r(42);var s=r(31);var a=r(64);var u=r(65);var c=r(66);var f=r(67);var h=r(68);var l=r(69);var p=r(70);var d=r(2);var v=d["default"].Transports;e.build=function(t,e){var r=n.extend({},m,e);return k(t,r)[1].strategy};var y={isSupported:function(){return false},connect:function(t,e){var r=i["default"].defer(function(){e(new s.UnsupportedStrategy)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function g(t){return function(e){return[t.apply(this,arguments),e]}}var m={extend:function(t,e,r){return[n.extend({},e,r),t]},def:function(t,e,r){if(void 0!==t[e])throw"Redefining symbol "+e;t[e]=r;return[void 0,t]},def_transport:function(t,e,r,i,o,u){var c=v[r];if(!c)throw new s.UnsupportedTransport(r);var f=(!t.enabledTransports||-1!==n.arrayIndexOf(t.enabledTransports,e))&&(!t.disabledTransports||-1===n.arrayIndexOf(t.disabledTransports,e));var h;h=f?new a["default"](e,i,u?u.getAssistant(c):c,n.extend({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},o)):y;var l=t.def(t,e,h)[1];l.Transports=t.Transports||{};l.Transports[e]=h;return[void 0,l]},transport_manager:g(function(t,e){return new o["default"](e)}),sequential:g(function(t,e){var r=Array.prototype.slice.call(arguments,2);return new u["default"](r,e)}),cached:g(function(t,e,r){return new f["default"](r,t.Transports,{ttl:e,timeline:t.timeline,useTLS:t.useTLS})}),first_connected:g(function(t,e){return new p["default"](e)}),best_connected_ever:g(function(){var t=Array.prototype.slice.call(arguments,1);return new c["default"](t)}),delayed:g(function(t,e,r){return new h["default"](r,{delay:e})}),if:g(function(t,e,r,n){return new l["default"](e,r,n)}),is_supported:g(function(t,e){return function(){return e.isSupported()}})};function b(t){return"string"===typeof t&&":"===t.charAt(0)}function w(t,e){return e[t.slice(1)]}function _(t,e){if(0===t.length)return[[],e];var r=k(t[0],e);var n=_(t.slice(1),r[1]);return[[r[0]].concat(n[0]),n[1]]}function S(t,e){if(!b(t))return[t,e];var r=w(t,e);if(void 0===r)throw"Undefined symbol "+t;return[r,e]}function E(t,e){if(b(t[0])){var r=w(t[0],e);if(t.length>1){if("function"!==typeof r)throw"Calling non-function "+t[0];var i=[n.extend({},e)].concat(n.map(t.slice(1),function(t){return k(t,n.extend({},e))[0]}));return r.apply(this,i)}return[r,e]}return _(t,e)}function k(t,e){if("string"===typeof t)return S(t,e);if("object"===typeof t&&t instanceof Array&&t.length>0)return E(t,e);return[t,e]}},function(t,e,r){"use strict";var n=r(43);var i=function(){function t(t){this.options=t||{};this.livesLeft=this.options.lives||Infinity}t.prototype.getAssistant=function(t){return n["default"].createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})};t.prototype.isAlive=function(){return this.livesLeft>0};t.prototype.reportDeath=function(){this.livesLeft-=1};return t}();e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=r(44);var i=r(45);var o=r(48);var s=r(49);var a=r(50);var u=r(51);var c=r(54);var f=r(52);var h=r(62);var l=r(63);var p={createChannels:function(){return new l["default"]},createConnectionManager:function(t,e){return new h["default"](t,e)},createChannel:function(t,e){return new f["default"](t,e)},createPrivateChannel:function(t,e){return new u["default"](t,e)},createPresenceChannel:function(t,e){return new a["default"](t,e)},createEncryptedChannel:function(t,e){return new c["default"](t,e)},createTimelineSender:function(t,e){return new s["default"](t,e)},createAuthorizer:function(t,e){if(e.authorizer)return e.authorizer(t,e);return new o["default"](t,e)},createHandshake:function(t,e){return new i["default"](t,e)},createAssistantToTheTransportManager:function(t,e,r){return new n["default"](t,e,r)}};e.__esModule=true;e["default"]=p},function(t,e,r){"use strict";var n=r(11);var i=r(9);var o=function(){function t(t,e,r){this.manager=t;this.transport=e;this.minPingDelay=r.minPingDelay;this.maxPingDelay=r.maxPingDelay;this.pingDelay=void 0}t.prototype.createConnection=function(t,e,r,o){var s=this;o=i.extend({},o,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(t,e,r,o);var u=null;var c=function(){a.unbind("open",c);a.bind("closed",f);u=n["default"].now()};var f=function(t){a.unbind("closed",f);if(1002===t.code||1003===t.code)s.manager.reportDeath();else if(!t.wasClean&&u){var e=n["default"].now()-u;if(e<2*s.maxPingDelay){s.manager.reportDeath();s.pingDelay=Math.max(e/2,s.minPingDelay)}}};a.bind("open",c);return a};t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)};return t}();e.__esModule=true;e["default"]=o},function(t,e,r){"use strict";var n=r(9);var i=r(46);var o=r(47);var s=function(){function t(t,e){this.transport=t;this.callback=e;this.bindListeners()}t.prototype.close=function(){this.unbindListeners();this.transport.close()};t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){t.unbindListeners();var r;try{r=i.processHandshake(e)}catch(e){t.finish("error",{error:e});t.transport.close();return}if("connected"===r.action)t.finish("connected",{connection:new o["default"](r.id,t.transport),activityTimeout:r.activityTimeout});else{t.finish(r.action,{error:r.error});t.transport.close()}};this.onClosed=function(e){t.unbindListeners();var r=i.getCloseAction(e)||"backoff";var n=i.getCloseError(e);t.finish(r,{error:n})};this.transport.bind("message",this.onMessage);this.transport.bind("closed",this.onClosed)};t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage);this.transport.unbind("closed",this.onClosed)};t.prototype.finish=function(t,e){this.callback(n.extend({transport:this.transport,action:t},e))};return t}();e.__esModule=true;e["default"]=s},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);var r=e.data;if("string"===typeof r)try{r=JSON.parse(e.data)}catch(t){}var n={event:e.event,channel:e.channel,data:r};e.user_id&&(n.user_id=e.user_id);return n}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}};e.encodeMessage=function(t){return JSON.stringify(t)};e.processHandshake=function(t){var r=e.decodeMessage(t);if("pusher:connection_established"===r.event){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:1e3*r.data.activity_timeout}}if("pusher:error"===r.event)return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"};e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"};e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(9);var o=r(24);var s=r(46);var a=r(8);var u=function(t){n(e,t);function e(e,r){t.call(this);this.id=e;this.transport=r;this.activityTimeout=r.activityTimeout;this.bindListeners()}e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()};e.prototype.send=function(t){return this.transport.send(t)};e.prototype.send_event=function(t,e,r){var n={event:t,data:e};r&&(n.channel=r);a["default"].debug("Event sent",n);return this.send(s.encodeMessage(n))};e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})};e.prototype.close=function(){this.transport.close()};e.prototype.bindListeners=function(){var t=this;var e={message:function(e){var r;try{r=s.decodeMessage(e)}catch(r){t.emit("error",{type:"MessageParseError",error:r,data:e.data})}if(void 0!==r){a["default"].debug("Event recd",r);switch(r.event){case"pusher:error":t.emit("error",{type:"PusherError",data:r.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong");break}t.emit("message",r)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){r();e&&e.code&&t.handleCloseEvent(e);t.transport=null;t.emit("closed")}};var r=function(){i.objectApply(e,function(e,r){t.transport.unbind(r,e)})};i.objectApply(e,function(e,r){t.transport.bind(r,e)})};e.prototype.handleCloseEvent=function(t){var e=s.getCloseAction(t);var r=s.getCloseError(t);r&&this.emit("error",r);e&&this.emit(e,{action:e,error:r})};return e}(o["default"]);e.__esModule=true;e["default"]=u},function(t,e,r){"use strict";var n=r(2);var i=function(){function t(t,e){this.channel=t;var r=e.authTransport;if("undefined"===typeof n["default"].getAuthorizers()[r])throw"'"+r+"' is not a recognized auth transport";this.type=r;this.options=e;this.authOptions=(e||{}).auth||{}}t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var r in this.authOptions.params)e+="&"+encodeURIComponent(r)+"="+encodeURIComponent(this.authOptions.params[r]);return e};t.prototype.authorize=function(e,r){t.authorizers=t.authorizers||n["default"].getAuthorizers();return t.authorizers[this.type].call(this,n["default"],e,r)};return t}();e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=r(2);var i=function(){function t(t,e){this.timeline=t;this.options=e||{}}t.prototype.send=function(t,e){if(this.timeline.isEmpty())return;this.timeline.send(n["default"].TimelineTransport.getAgent(this,t),e)};return t}();e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(51);var o=r(8);var s=r(53);var a=r(14);var u=function(t){n(e,t);function e(e,r){t.call(this,e,r);this.members=new s["default"]}e.prototype.authorize=function(e,r){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var i=a["default"].buildLogSuffix("authenticationEndpoint");o["default"].warn("Invalid auth response for channel '"+n.name+"',expected 'channel_data' field. "+i);r("Invalid auth response");return}var s=JSON.parse(e.channel_data);n.members.setMyID(s.user_id)}r(t,e)})};e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var r=t.data;var n={};t.user_id&&(n.user_id=t.user_id);this.emit(e,r,n)}};e.prototype.handleInternalEvent=function(t){var e=t.event;var r=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var n=this.members.addMember(r);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(r);i&&this.emit("pusher:member_removed",i);break}};e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=false;this.subscribed=true;if(this.subscriptionCancelled)this.pusher.unsubscribe(this.name);else{this.members.onSubscription(t.data);this.emit("pusher:subscription_succeeded",this.members)}};e.prototype.disconnect=function(){this.members.reset();t.prototype.disconnect.call(this)};return e}(i["default"]);e.__esModule=true;e["default"]=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(43);var o=r(52);var s=function(t){n(e,t);function e(){t.apply(this,arguments)}e.prototype.authorize=function(t,e){var r=i["default"].createAuthorizer(this,this.pusher.config);return r.authorize(t,e)};return e}(o["default"]);e.__esModule=true;e["default"]=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(24);var o=r(31);var s=r(8);var a=r(14);var u=function(t){n(e,t);function e(e,r){t.call(this,function(t,r){s["default"].debug("No callbacks on "+e+" for "+t)});this.name=e;this.pusher=r;this.subscribed=false;this.subscriptionPending=false;this.subscriptionCancelled=false}e.prototype.authorize=function(t,e){return e(false,{})};e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new o.BadEventName("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var r=a["default"].buildLogSuffix("triggeringClientEvents");s["default"].warn("Client event triggered before channel 'subscription_succeeded' event . "+r)}return this.pusher.send_event(t,e,this.name)};e.prototype.disconnect=function(){this.subscribed=false;this.subscriptionPending=false};e.prototype.handleEvent=function(t){var e=t.event;var r=t.data;if("pusher_internal:subscription_succeeded"===e)this.handleSubscriptionSucceededEvent(t);else if(0!==e.indexOf("pusher_internal:")){var n={};this.emit(e,r,n)}};e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=false;this.subscribed=true;this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)};e.prototype.subscribe=function(){var t=this;if(this.subscribed)return;this.subscriptionPending=true;this.subscriptionCancelled=false;this.authorize(this.pusher.connection.socket_id,function(e,r){e?t.emit("pusher:subscription_error",r):t.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:t.name})})};e.prototype.unsubscribe=function(){this.subscribed=false;this.pusher.send_event("pusher:unsubscribe",{channel:this.name})};e.prototype.cancelSubscription=function(){this.subscriptionCancelled=true};e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=false};return e}(i["default"]);e.__esModule=true;e["default"]=u},function(t,e,r){"use strict";var n=r(9);var i=function(){function t(){this.reset()}t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null};t.prototype.each=function(t){var e=this;n.objectApply(this.members,function(r,n){t(e.get(n))})};t.prototype.setMyID=function(t){this.myID=t};t.prototype.onSubscription=function(t){this.members=t.presence.hash;this.count=t.presence.count;this.me=this.get(this.myID)};t.prototype.addMember=function(t){null===this.get(t.user_id)&&this.count++;this.members[t.user_id]=t.user_info;return this.get(t.user_id)};t.prototype.removeMember=function(t){var e=this.get(t.user_id);if(e){delete this.members[t.user_id];this.count--}return e};t.prototype.reset=function(){this.members={};this.count=0;this.myID=null;this.me=null};return t}();e.__esModule=true;e["default"]=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(51);var o=r(31);var s=r(8);var a=r(55);var u=r(57);var c=function(t){n(e,t);function e(){t.apply(this,arguments);this.key=null}e.prototype.authorize=function(e,r){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(t){r(true,e);return}var i=e["shared_secret"];if(!i){var o="No shared_secret key in auth payload for encrypted channel: "+n.name;r(true,o);s["default"].warn("Error: "+o);return}n.key=u.decodeBase64(i);delete e["shared_secret"];r(false,e)})};e.prototype.trigger=function(t,e){throw new o.UnsupportedFeature("Client events are not currently supported for encrypted channels")};e.prototype.handleEvent=function(e){var r=e.event;var n=e.data;if(0===r.indexOf("pusher_internal:")||0===r.indexOf("pusher:")){t.prototype.handleEvent.call(this,e);return}this.handleEncryptedEvent(r,n)};e.prototype.handleEncryptedEvent=function(t,e){var r=this;if(!this.key){s["default"].debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!e.ciphertext||!e.nonce){s["default"].warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);return}var n=u.decodeBase64(e.ciphertext);if(n.length<a.secretbox.overheadLength){s["default"].warn("Expected encrypted event ciphertext length to be "+a.secretbox.overheadLength+", got: "+n.length);return}var i=u.decodeBase64(e.nonce);if(i.length<a.secretbox.nonceLength){s["default"].warn("Expected encrypted event nonce length to be "+a.secretbox.nonceLength+", got: "+i.length);return}var o=a.secretbox.open(n,i,this.key);if(null===o){s["default"].debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...");this.authorize(this.pusher.connection.socket_id,function(e,c){if(e){s["default"].warn("Failed to make a request to the authEndpoint: "+c+". Unable to fetch new key, so dropping encrypted event");return}o=a.secretbox.open(n,i,r.key);if(null===o){s["default"].warn("Failed to decrypt event with new key. Dropping encrypted event");return}r.emitJSON(t,u.encodeUTF8(o));return});return}this.emitJSON(t,u.encodeUTF8(o))};e.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(r){this.emit(t,e)}return this};return e}(i["default"]);e.__esModule=true;e["default"]=c},function(t,e,r){(function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r};var n=function(){throw new Error("no PRNG")};var i=new Uint8Array(16);var o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255;t[e+1]=r>>16&255;t[e+2]=r>>8&255;t[e+3]=255&r;t[e+4]=n>>24&255;t[e+5]=n>>16&255;t[e+6]=n>>8&255;t[e+7]=255&n}function v(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function y(t,e,r,n){return v(t,e,r,n,16)}function g(t,e,r,n){return v(t,e,r,n,32)}function m(t,e,r,n){var i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,a=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,l=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24;var w=i,_=o,S=s,E=a,k=u,x=c,T=f,A=h,C=l,R=p,P=d,O=v,U=y,M=g,L=m,B=b,I;for(var N=0;N<20;N+=2){I=w+U|0;k^=I<<7|I>>>25;I=k+w|0;C^=I<<9|I>>>23;I=C+k|0;U^=I<<13|I>>>19;I=U+C|0;w^=I<<18|I>>>14;I=x+_|0;R^=I<<7|I>>>25;I=R+x|0;M^=I<<9|I>>>23;I=M+R|0;_^=I<<13|I>>>19;I=_+M|0;x^=I<<18|I>>>14;I=P+T|0;L^=I<<7|I>>>25;I=L+P|0;S^=I<<9|I>>>23;I=S+L|0;T^=I<<13|I>>>19;I=T+S|0;P^=I<<18|I>>>14;I=B+O|0;E^=I<<7|I>>>25;I=E+B|0;A^=I<<9|I>>>23;I=A+E|0;O^=I<<13|I>>>19;I=O+A|0;B^=I<<18|I>>>14;I=w+E|0;_^=I<<7|I>>>25;I=_+w|0;S^=I<<9|I>>>23;I=S+_|0;E^=I<<13|I>>>19;I=E+S|0;w^=I<<18|I>>>14;I=x+k|0;T^=I<<7|I>>>25;I=T+x|0;A^=I<<9|I>>>23;I=A+T|0;k^=I<<13|I>>>19;I=k+A|0;x^=I<<18|I>>>14;I=P+R|0;O^=I<<7|I>>>25;I=O+P|0;C^=I<<9|I>>>23;I=C+O|0;R^=I<<13|I>>>19;I=R+C|0;P^=I<<18|I>>>14;I=B+L|0;U^=I<<7|I>>>25;I=U+B|0;M^=I<<9|I>>>23;I=M+U|0;L^=I<<13|I>>>19;I=L+M|0;B^=I<<18|I>>>14}w=w+i|0;_=_+o|0;S=S+s|0;E=E+a|0;k=k+u|0;x=x+c|0;T=T+f|0;A=A+h|0;C=C+l|0;R=R+p|0;P=P+d|0;O=O+v|0;U=U+y|0;M=M+g|0;L=L+m|0;B=B+b|0;t[0]=w>>>0&255;t[1]=w>>>8&255;t[2]=w>>>16&255;t[3]=w>>>24&255;t[4]=_>>>0&255;t[5]=_>>>8&255;t[6]=_>>>16&255;t[7]=_>>>24&255;t[8]=S>>>0&255;t[9]=S>>>8&255;t[10]=S>>>16&255;t[11]=S>>>24&255;t[12]=E>>>0&255;t[13]=E>>>8&255;t[14]=E>>>16&255;t[15]=E>>>24&255;t[16]=k>>>0&255;t[17]=k>>>8&255;t[18]=k>>>16&255;t[19]=k>>>24&255;t[20]=x>>>0&255;t[21]=x>>>8&255;t[22]=x>>>16&255;t[23]=x>>>24&255;t[24]=T>>>0&255;t[25]=T>>>8&255;t[26]=T>>>16&255;t[27]=T>>>24&255;t[28]=A>>>0&255;t[29]=A>>>8&255;t[30]=A>>>16&255;t[31]=A>>>24&255;t[32]=C>>>0&255;t[33]=C>>>8&255;t[34]=C>>>16&255;t[35]=C>>>24&255;t[36]=R>>>0&255;t[37]=R>>>8&255;t[38]=R>>>16&255;t[39]=R>>>24&255;t[40]=P>>>0&255;t[41]=P>>>8&255;t[42]=P>>>16&255;t[43]=P>>>24&255;t[44]=O>>>0&255;t[45]=O>>>8&255;t[46]=O>>>16&255;t[47]=O>>>24&255;t[48]=U>>>0&255;t[49]=U>>>8&255;t[50]=U>>>16&255;t[51]=U>>>24&255;t[52]=M>>>0&255;t[53]=M>>>8&255;t[54]=M>>>16&255;t[55]=M>>>24&255;t[56]=L>>>0&255;t[57]=L>>>8&255;t[58]=L>>>16&255;t[59]=L>>>24&255;t[60]=B>>>0&255;t[61]=B>>>8&255;t[62]=B>>>16&255;t[63]=B>>>24&255}function b(t,e,r,n){var i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,a=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,l=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24;var w=i,_=o,S=s,E=a,k=u,x=c,T=f,A=h,C=l,R=p,P=d,O=v,U=y,M=g,L=m,B=b,I;for(var N=0;N<20;N+=2){I=w+U|0;k^=I<<7|I>>>25;I=k+w|0;C^=I<<9|I>>>23;I=C+k|0;U^=I<<13|I>>>19;I=U+C|0;w^=I<<18|I>>>14;I=x+_|0;R^=I<<7|I>>>25;I=R+x|0;M^=I<<9|I>>>23;I=M+R|0;_^=I<<13|I>>>19;I=_+M|0;x^=I<<18|I>>>14;I=P+T|0;L^=I<<7|I>>>25;I=L+P|0;S^=I<<9|I>>>23;I=S+L|0;T^=I<<13|I>>>19;I=T+S|0;P^=I<<18|I>>>14;I=B+O|0;E^=I<<7|I>>>25;I=E+B|0;A^=I<<9|I>>>23;I=A+E|0;O^=I<<13|I>>>19;I=O+A|0;B^=I<<18|I>>>14;I=w+E|0;_^=I<<7|I>>>25;I=_+w|0;S^=I<<9|I>>>23;I=S+_|0;E^=I<<13|I>>>19;I=E+S|0;w^=I<<18|I>>>14;I=x+k|0;T^=I<<7|I>>>25;I=T+x|0;A^=I<<9|I>>>23;I=A+T|0;k^=I<<13|I>>>19;I=k+A|0;x^=I<<18|I>>>14;I=P+R|0;O^=I<<7|I>>>25;I=O+P|0;C^=I<<9|I>>>23;I=C+O|0;R^=I<<13|I>>>19;I=R+C|0;P^=I<<18|I>>>14;I=B+L|0;U^=I<<7|I>>>25;I=U+B|0;M^=I<<9|I>>>23;I=M+U|0;L^=I<<13|I>>>19;I=L+M|0;B^=I<<18|I>>>14}t[0]=w>>>0&255;t[1]=w>>>8&255;t[2]=w>>>16&255;t[3]=w>>>24&255;t[4]=x>>>0&255;t[5]=x>>>8&255;t[6]=x>>>16&255;t[7]=x>>>24&255;t[8]=P>>>0&255;t[9]=P>>>8&255;t[10]=P>>>16&255;t[11]=P>>>24&255;t[12]=B>>>0&255;t[13]=B>>>8&255;t[14]=B>>>16&255;t[15]=B>>>24&255;t[16]=T>>>0&255;t[17]=T>>>8&255;t[18]=T>>>16&255;t[19]=T>>>24&255;t[20]=A>>>0&255;t[21]=A>>>8&255;t[22]=A>>>16&255;t[23]=A>>>24&255;t[24]=C>>>0&255;t[25]=C>>>8&255;t[26]=C>>>16&255;t[27]=C>>>24&255;t[28]=R>>>0&255;t[29]=R>>>8&255;t[30]=R>>>16&255;t[31]=R>>>24&255}function w(t,e,r,n){m(t,e,r,n)}function _(t,e,r,n){b(t,e,r,n)}var S=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(t,e,r,n,i,o,s){var a=new Uint8Array(16),u=new Uint8Array(64);var c,f;for(f=0;f<16;f++)a[f]=0;for(f=0;f<8;f++)a[f]=o[f];while(i>=64){w(u,a,s,S);for(f=0;f<64;f++)t[e+f]=r[n+f]^u[f];c=1;for(f=8;f<16;f++){c=c+(255&a[f])|0;a[f]=255&c;c>>>=8}i-=64;e+=64;n+=64}if(i>0){w(u,a,s,S);for(f=0;f<i;f++)t[e+f]=r[n+f]^u[f]}return 0}function k(t,e,r,n,i){var o=new Uint8Array(16),s=new Uint8Array(64);var a,u;for(u=0;u<16;u++)o[u]=0;for(u=0;u<8;u++)o[u]=n[u];while(r>=64){w(s,o,i,S);for(u=0;u<64;u++)t[e+u]=s[u];a=1;for(u=8;u<16;u++){a=a+(255&o[u])|0;o[u]=255&a;a>>>=8}r-=64;e+=64}if(r>0){w(s,o,i,S);for(u=0;u<r;u++)t[e+u]=s[u]}return 0}function x(t,e,r,n,i){var o=new Uint8Array(32);_(o,n,i,S);var s=new Uint8Array(8);for(var a=0;a<8;a++)s[a]=n[a+16];return k(t,e,r,s,o)}function T(t,e,r,n,i,o,s){var a=new Uint8Array(32);_(a,o,s,S);var u=new Uint8Array(8);for(var c=0;c<8;c++)u[c]=o[c+16];return E(t,e,r,n,i,u,a)}var A=function(t){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var e,r,n,i,o,s,a,u;e=255&t[0]|(255&t[1])<<8;this.r[0]=8191&e;r=255&t[2]|(255&t[3])<<8;this.r[1]=8191&(e>>>13|r<<3);n=255&t[4]|(255&t[5])<<8;this.r[2]=7939&(r>>>10|n<<6);i=255&t[6]|(255&t[7])<<8;this.r[3]=8191&(n>>>7|i<<9);o=255&t[8]|(255&t[9])<<8;this.r[4]=255&(i>>>4|o<<12);this.r[5]=o>>>1&8190;s=255&t[10]|(255&t[11])<<8;this.r[6]=8191&(o>>>14|s<<2);a=255&t[12]|(255&t[13])<<8;this.r[7]=8065&(s>>>11|a<<5);u=255&t[14]|(255&t[15])<<8;this.r[8]=8191&(a>>>8|u<<8);this.r[9]=u>>>5&127;this.pad[0]=255&t[16]|(255&t[17])<<8;this.pad[1]=255&t[18]|(255&t[19])<<8;this.pad[2]=255&t[20]|(255&t[21])<<8;this.pad[3]=255&t[22]|(255&t[23])<<8;this.pad[4]=255&t[24]|(255&t[25])<<8;this.pad[5]=255&t[26]|(255&t[27])<<8;this.pad[6]=255&t[28]|(255&t[29])<<8;this.pad[7]=255&t[30]|(255&t[31])<<8};A.prototype.blocks=function(t,e,r){var n=this.fin?0:2048;var i,o,s,a,u,c,f,h,l;var p,d,v,y,g,m,b,w,_,S;var E=this.h[0],k=this.h[1],x=this.h[2],T=this.h[3],A=this.h[4],C=this.h[5],R=this.h[6],P=this.h[7],O=this.h[8],U=this.h[9];var M=this.r[0],L=this.r[1],B=this.r[2],I=this.r[3],N=this.r[4],j=this.r[5],D=this.r[6],z=this.r[7],q=this.r[8],Y=this.r[9];while(r>=16){i=255&t[e+0]|(255&t[e+1])<<8;E+=8191&i;o=255&t[e+2]|(255&t[e+3])<<8;k+=8191&(i>>>13|o<<3);s=255&t[e+4]|(255&t[e+5])<<8;x+=8191&(o>>>10|s<<6);a=255&t[e+6]|(255&t[e+7])<<8;T+=8191&(s>>>7|a<<9);u=255&t[e+8]|(255&t[e+9])<<8;A+=8191&(a>>>4|u<<12);C+=u>>>1&8191;c=255&t[e+10]|(255&t[e+11])<<8;R+=8191&(u>>>14|c<<2);f=255&t[e+12]|(255&t[e+13])<<8;P+=8191&(c>>>11|f<<5);h=255&t[e+14]|(255&t[e+15])<<8;O+=8191&(f>>>8|h<<8);U+=h>>>5|n;l=0;p=l;p+=E*M;p+=k*(5*Y);p+=x*(5*q);p+=T*(5*z);p+=A*(5*D);l=p>>>13;p&=8191;p+=C*(5*j);p+=R*(5*N);p+=P*(5*I);p+=O*(5*B);p+=U*(5*L);l+=p>>>13;p&=8191;d=l;d+=E*L;d+=k*M;d+=x*(5*Y);d+=T*(5*q);d+=A*(5*z);l=d>>>13;d&=8191;d+=C*(5*D);d+=R*(5*j);d+=P*(5*N);d+=O*(5*I);d+=U*(5*B);l+=d>>>13;d&=8191;v=l;v+=E*B;v+=k*L;v+=x*M;v+=T*(5*Y);v+=A*(5*q);l=v>>>13;v&=8191;v+=C*(5*z);v+=R*(5*D);v+=P*(5*j);v+=O*(5*N);v+=U*(5*I);l+=v>>>13;v&=8191;y=l;y+=E*I;y+=k*B;y+=x*L;y+=T*M;y+=A*(5*Y);l=y>>>13;y&=8191;y+=C*(5*q);y+=R*(5*z);y+=P*(5*D);y+=O*(5*j);y+=U*(5*N);l+=y>>>13;y&=8191;g=l;g+=E*N;g+=k*I;g+=x*B;g+=T*L;g+=A*M;l=g>>>13;g&=8191;g+=C*(5*Y);g+=R*(5*q);g+=P*(5*z);g+=O*(5*D);g+=U*(5*j);l+=g>>>13;g&=8191;m=l;m+=E*j;m+=k*N;m+=x*I;m+=T*B;m+=A*L;l=m>>>13;m&=8191;m+=C*M;m+=R*(5*Y);m+=P*(5*q);m+=O*(5*z);m+=U*(5*D);l+=m>>>13;m&=8191;b=l;b+=E*D;b+=k*j;b+=x*N;b+=T*I;b+=A*B;l=b>>>13;b&=8191;b+=C*L;b+=R*M;b+=P*(5*Y);b+=O*(5*q);b+=U*(5*z);l+=b>>>13;b&=8191;w=l;w+=E*z;w+=k*D;w+=x*j;w+=T*N;w+=A*I;l=w>>>13;w&=8191;w+=C*B;w+=R*L;w+=P*M;w+=O*(5*Y);w+=U*(5*q);l+=w>>>13;w&=8191;_=l;_+=E*q;_+=k*z;_+=x*D;_+=T*j;_+=A*N;l=_>>>13;_&=8191;_+=C*I;_+=R*B;_+=P*L;_+=O*M;_+=U*(5*Y);l+=_>>>13;_&=8191;S=l;S+=E*Y;S+=k*q;S+=x*z;S+=T*D;S+=A*j;l=S>>>13;S&=8191;S+=C*N;S+=R*I;S+=P*B;S+=O*L;S+=U*M;l+=S>>>13;S&=8191;l=(l<<2)+l|0;l=l+p|0;p=8191&l;l>>>=13;d+=l;E=p;k=d;x=v;T=y;A=g;C=m;R=b;P=w;O=_;U=S;e+=16;r-=16}this.h[0]=E;this.h[1]=k;this.h[2]=x;this.h[3]=T;this.h[4]=A;this.h[5]=C;this.h[6]=R;this.h[7]=P;this.h[8]=O;this.h[9]=U};A.prototype.finish=function(t,e){var r=new Uint16Array(10);var n,i,o,s;if(this.leftover){s=this.leftover;this.buffer[s++]=1;for(;s<16;s++)this.buffer[s]=0;this.fin=1;this.blocks(this.buffer,0,16)}n=this.h[1]>>>13;this.h[1]&=8191;for(s=2;s<10;s++){this.h[s]+=n;n=this.h[s]>>>13;this.h[s]&=8191}this.h[0]+=5*n;n=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=n;n=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=n;r[0]=this.h[0]+5;n=r[0]>>>13;r[0]&=8191;for(s=1;s<10;s++){r[s]=this.h[s]+n;n=r[s]>>>13;r[s]&=8191}r[9]-=8192;i=(1^n)-1;for(s=0;s<10;s++)r[s]&=i;i=~i;for(s=0;s<10;s++)this.h[s]=this.h[s]&i|r[s];this.h[0]=65535&(this.h[0]|this.h[1]<<13);this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10);this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7);this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4);this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14);this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11);this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8);this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5);o=this.h[0]+this.pad[0];this.h[0]=65535&o;for(s=1;s<8;s++){o=(this.h[s]+this.pad[s]|0)+(o>>>16)|0;this.h[s]=65535&o}t[e+0]=this.h[0]>>>0&255;t[e+1]=this.h[0]>>>8&255;t[e+2]=this.h[1]>>>0&255;t[e+3]=this.h[1]>>>8&255;t[e+4]=this.h[2]>>>0&255;t[e+5]=this.h[2]>>>8&255;t[e+6]=this.h[3]>>>0&255;t[e+7]=this.h[3]>>>8&255;t[e+8]=this.h[4]>>>0&255;t[e+9]=this.h[4]>>>8&255;t[e+10]=this.h[5]>>>0&255;t[e+11]=this.h[5]>>>8&255;t[e+12]=this.h[6]>>>0&255;t[e+13]=this.h[6]>>>8&255;t[e+14]=this.h[7]>>>0&255;t[e+15]=this.h[7]>>>8&255};A.prototype.update=function(t,e,r){var n,i;if(this.leftover){i=16-this.leftover;i>r&&(i=r);for(n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];r-=i;e+=i;this.leftover+=i;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}if(r>=16){i=r-r%16;this.blocks(t,e,i);e+=i;r-=i}if(r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};function C(t,e,r,n,i,o){var s=new A(o);s.update(r,n,i);s.finish(t,e);return 0}function R(t,e,r,n,i,o){var s=new Uint8Array(16);C(s,0,r,n,i,o);return y(t,e,s,0)}function P(t,e,r,n,i){var o;if(r<32)return-1;T(t,0,e,0,r,n,i);C(t,16,t,32,r-32,t);for(o=0;o<16;o++)t[o]=0;return 0}function O(t,e,r,n,i){var o;var s=new Uint8Array(32);if(r<32)return-1;x(s,0,32,n,i);if(0!==R(e,16,e,32,r-32,s))return-1;T(t,0,e,0,r,n,i);for(o=0;o<32;o++)t[o]=0;return 0}function U(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function M(t){var e,r,n=1;for(e=0;e<16;e++){r=t[e]+n+65535;n=Math.floor(r/65536);t[e]=r-65536*n}t[0]+=n-1+37*(n-1)}function L(t,e,r){var n,i=~(r-1);for(var o=0;o<16;o++){n=i&(t[o]^e[o]);t[o]^=n;e[o]^=n}}function B(t,r){var n,i,o;var s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];M(a);M(a);M(a);for(i=0;i<2;i++){s[0]=a[0]-65517;for(n=1;n<15;n++){s[n]=a[n]-65535-(s[n-1]>>16&1);s[n-1]&=65535}s[15]=a[15]-32767-(s[14]>>16&1);o=s[15]>>16&1;s[14]&=65535;L(a,s,1-o)}for(n=0;n<16;n++){t[2*n]=255&a[n];t[2*n+1]=a[n]>>8}}function I(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);B(r,t);B(n,e);return g(r,0,n,0)}function N(t){var e=new Uint8Array(32);B(e,t);return 1&e[0]}function j(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function D(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function z(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function q(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,h=0,l=0,p=0,d=0,v=0,y=0,g=0,m=0,b=0,w=0,_=0,S=0,E=0,k=0,x=0,T=0,A=0,C=0,R=0,P=0,O=0,U=0,M=0,L=0,B=0,I=r[0],N=r[1],j=r[2],D=r[3],z=r[4],q=r[5],Y=r[6],F=r[7],H=r[8],X=r[9],J=r[10],K=r[11],W=r[12],G=r[13],V=r[14],Q=r[15];n=e[0];o+=n*I;s+=n*N;a+=n*j;u+=n*D;c+=n*z;f+=n*q;h+=n*Y;l+=n*F;p+=n*H;d+=n*X;v+=n*J;y+=n*K;g+=n*W;m+=n*G;b+=n*V;w+=n*Q;n=e[1];s+=n*I;a+=n*N;u+=n*j;c+=n*D;f+=n*z;h+=n*q;l+=n*Y;p+=n*F;d+=n*H;v+=n*X;y+=n*J;g+=n*K;m+=n*W;b+=n*G;w+=n*V;_+=n*Q;n=e[2];a+=n*I;u+=n*N;c+=n*j;f+=n*D;h+=n*z;l+=n*q;p+=n*Y;d+=n*F;v+=n*H;y+=n*X;g+=n*J;m+=n*K;b+=n*W;w+=n*G;_+=n*V;S+=n*Q;n=e[3];u+=n*I;c+=n*N;f+=n*j;h+=n*D;l+=n*z;p+=n*q;d+=n*Y;v+=n*F;y+=n*H;g+=n*X;m+=n*J;b+=n*K;w+=n*W;_+=n*G;S+=n*V;E+=n*Q;n=e[4];c+=n*I;f+=n*N;h+=n*j;l+=n*D;p+=n*z;d+=n*q;v+=n*Y;y+=n*F;g+=n*H;m+=n*X;b+=n*J;w+=n*K;_+=n*W;S+=n*G;E+=n*V;k+=n*Q;n=e[5];f+=n*I;h+=n*N;l+=n*j;p+=n*D;d+=n*z;v+=n*q;y+=n*Y;g+=n*F;m+=n*H;b+=n*X;w+=n*J;_+=n*K;S+=n*W;E+=n*G;k+=n*V;x+=n*Q;n=e[6];h+=n*I;l+=n*N;p+=n*j;d+=n*D;v+=n*z;y+=n*q;g+=n*Y;m+=n*F;b+=n*H;w+=n*X;_+=n*J;S+=n*K;E+=n*W;k+=n*G;x+=n*V;T+=n*Q;n=e[7];l+=n*I;p+=n*N;d+=n*j;v+=n*D;y+=n*z;g+=n*q;m+=n*Y;b+=n*F;w+=n*H;_+=n*X;S+=n*J;E+=n*K;k+=n*W;x+=n*G;T+=n*V;A+=n*Q;n=e[8];p+=n*I;d+=n*N;v+=n*j;y+=n*D;g+=n*z;m+=n*q;b+=n*Y;w+=n*F;_+=n*H;S+=n*X;E+=n*J;k+=n*K;x+=n*W;T+=n*G;A+=n*V;C+=n*Q;n=e[9];d+=n*I;v+=n*N;y+=n*j;g+=n*D;m+=n*z;b+=n*q;w+=n*Y;_+=n*F;S+=n*H;E+=n*X;k+=n*J;x+=n*K;T+=n*W;A+=n*G;C+=n*V;R+=n*Q;n=e[10];v+=n*I;y+=n*N;g+=n*j;m+=n*D;b+=n*z;w+=n*q;_+=n*Y;S+=n*F;E+=n*H;k+=n*X;x+=n*J;T+=n*K;A+=n*W;C+=n*G;R+=n*V;P+=n*Q;n=e[11];y+=n*I;g+=n*N;m+=n*j;b+=n*D;w+=n*z;_+=n*q;S+=n*Y;E+=n*F;k+=n*H;x+=n*X;T+=n*J;A+=n*K;C+=n*W;R+=n*G;P+=n*V;O+=n*Q;n=e[12];g+=n*I;m+=n*N;b+=n*j;w+=n*D;_+=n*z;S+=n*q;E+=n*Y;k+=n*F;x+=n*H;T+=n*X;A+=n*J;C+=n*K;R+=n*W;P+=n*G;O+=n*V;U+=n*Q;n=e[13];m+=n*I;b+=n*N;w+=n*j;_+=n*D;S+=n*z;E+=n*q;k+=n*Y;x+=n*F;T+=n*H;A+=n*X;C+=n*J;R+=n*K;P+=n*W;O+=n*G;U+=n*V;M+=n*Q;n=e[14];b+=n*I;w+=n*N;_+=n*j;S+=n*D;E+=n*z;k+=n*q;x+=n*Y;T+=n*F;A+=n*H;C+=n*X;R+=n*J;P+=n*K;O+=n*W;U+=n*G;M+=n*V;L+=n*Q;n=e[15];w+=n*I;_+=n*N;S+=n*j;E+=n*D;k+=n*z;x+=n*q;T+=n*Y;A+=n*F;C+=n*H;R+=n*X;P+=n*J;O+=n*K;U+=n*W;M+=n*G;L+=n*V;B+=n*Q;o+=38*_;s+=38*S;a+=38*E;u+=38*k;c+=38*x;f+=38*T;h+=38*A;l+=38*C;p+=38*R;d+=38*P;v+=38*O;y+=38*U;g+=38*M;m+=38*L;b+=38*B;i=1;n=o+i+65535;i=Math.floor(n/65536);o=n-65536*i;n=s+i+65535;i=Math.floor(n/65536);s=n-65536*i;n=a+i+65535;i=Math.floor(n/65536);a=n-65536*i;n=u+i+65535;i=Math.floor(n/65536);u=n-65536*i;n=c+i+65535;i=Math.floor(n/65536);c=n-65536*i;n=f+i+65535;i=Math.floor(n/65536);f=n-65536*i;n=h+i+65535;i=Math.floor(n/65536);h=n-65536*i;n=l+i+65535;i=Math.floor(n/65536);l=n-65536*i;n=p+i+65535;i=Math.floor(n/65536);p=n-65536*i;n=d+i+65535;i=Math.floor(n/65536);d=n-65536*i;n=v+i+65535;i=Math.floor(n/65536);v=n-65536*i;n=y+i+65535;i=Math.floor(n/65536);y=n-65536*i;n=g+i+65535;i=Math.floor(n/65536);g=n-65536*i;n=m+i+65535;i=Math.floor(n/65536);m=n-65536*i;n=b+i+65535;i=Math.floor(n/65536);b=n-65536*i;n=w+i+65535;i=Math.floor(n/65536);w=n-65536*i;o+=i-1+37*(i-1);i=1;n=o+i+65535;i=Math.floor(n/65536);o=n-65536*i;n=s+i+65535;i=Math.floor(n/65536);s=n-65536*i;n=a+i+65535;i=Math.floor(n/65536);a=n-65536*i;n=u+i+65535;i=Math.floor(n/65536);u=n-65536*i;n=c+i+65535;i=Math.floor(n/65536);c=n-65536*i;n=f+i+65535;i=Math.floor(n/65536);f=n-65536*i;n=h+i+65535;i=Math.floor(n/65536);h=n-65536*i;n=l+i+65535;i=Math.floor(n/65536);l=n-65536*i;n=p+i+65535;i=Math.floor(n/65536);p=n-65536*i;n=d+i+65535;i=Math.floor(n/65536);d=n-65536*i;n=v+i+65535;i=Math.floor(n/65536);v=n-65536*i;n=y+i+65535;i=Math.floor(n/65536);y=n-65536*i;n=g+i+65535;i=Math.floor(n/65536);g=n-65536*i;n=m+i+65535;i=Math.floor(n/65536);m=n-65536*i;n=b+i+65535;i=Math.floor(n/65536);b=n-65536*i;n=w+i+65535;i=Math.floor(n/65536);w=n-65536*i;o+=i-1+37*(i-1);t[0]=o;t[1]=s;t[2]=a;t[3]=u;t[4]=c;t[5]=f;t[6]=h;t[7]=l;t[8]=p;t[9]=d;t[10]=v;t[11]=y;t[12]=g;t[13]=m;t[14]=b;t[15]=w}function Y(t,e){q(t,e,e)}function F(t,r){var n=e();var i;for(i=0;i<16;i++)n[i]=r[i];for(i=253;i>=0;i--){Y(n,n);2!==i&&4!==i&&q(n,n,r)}for(i=0;i<16;i++)t[i]=n[i]}function H(t,r){var n=e();var i;for(i=0;i<16;i++)n[i]=r[i];for(i=250;i>=0;i--){Y(n,n);1!==i&&q(n,n,r)}for(i=0;i<16;i++)t[i]=n[i]}function X(t,r,n){var i=new Uint8Array(32);var o=new Float64Array(80),s,a;var c=e(),f=e(),h=e(),l=e(),p=e(),d=e();for(a=0;a<31;a++)i[a]=r[a];i[31]=127&r[31]|64;i[0]&=248;j(o,n);for(a=0;a<16;a++){f[a]=o[a];l[a]=c[a]=h[a]=0}c[0]=l[0]=1;for(a=254;a>=0;--a){s=i[a>>>3]>>>(7&a)&1;L(c,f,s);L(h,l,s);D(p,c,h);z(c,c,h);D(h,f,l);z(f,f,l);Y(l,p);Y(d,c);q(c,h,c);q(h,f,p);D(p,c,h);z(c,c,h);Y(f,c);z(h,l,d);q(c,h,u);D(c,c,l);q(h,h,c);q(c,l,d);q(l,f,o);Y(f,p);L(c,f,s);L(h,l,s)}for(a=0;a<16;a++){o[a+16]=c[a];o[a+32]=h[a];o[a+48]=f[a];o[a+64]=l[a]}var v=o.subarray(32);var y=o.subarray(16);F(v,v);q(y,y,v);B(t,y);return 0}function J(t,e){return X(t,e,o)}function K(t,e){n(e,32);return J(t,e)}function W(t,e,r){var n=new Uint8Array(32);X(n,r,e);return _(t,i,n,S)}var G=P;var V=O;function Q(t,e,r,n,i,o){var s=new Uint8Array(32);W(s,i,o);return G(t,e,r,n,s)}function Z(t,e,r,n,i,o){var s=new Uint8Array(32);W(s,i,o);return V(t,e,r,n,s)}var $=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tt(t,e,r,n){var i=new Int32Array(16),o=new Int32Array(16),s,a,u,c,f,h,l,p,d,v,y,g,m,b,w,_,S,E,k,x,T,A,C,R,P,O;var U=t[0],M=t[1],L=t[2],B=t[3],I=t[4],N=t[5],j=t[6],D=t[7],z=e[0],q=e[1],Y=e[2],F=e[3],H=e[4],X=e[5],J=e[6],K=e[7];var W=0;while(n>=128){for(k=0;k<16;k++){x=8*k+W;i[k]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3];o[k]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7]}for(k=0;k<80;k++){s=U;a=M;u=L;c=B;f=I;h=N;l=j;p=D;d=z;v=q;y=Y;g=F;m=H;b=X;w=J;_=K;T=D;A=K;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=(I>>>14|H<<18)^(I>>>18|H<<14)^(H>>>9|I<<23);A=(H>>>14|I<<18)^(H>>>18|I<<14)^(I>>>9|H<<23);C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;T=I&N^~I&j;A=H&X^~H&J;C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;T=$[2*k];A=$[2*k+1];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;T=i[k%16];A=o[k%16];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;S=65535&P|O<<16;E=65535&C|R<<16;T=S;A=E;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=(U>>>28|z<<4)^(z>>>2|U<<30)^(z>>>7|U<<25);A=(z>>>28|U<<4)^(U>>>2|z<<30)^(U>>>7|z<<25);C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;T=U&M^U&L^M&L;A=z&q^z&Y^q&Y;C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;p=65535&P|O<<16;_=65535&C|R<<16;T=c;A=g;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=S;A=E;C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;c=65535&P|O<<16;g=65535&C|R<<16;M=s;L=a;B=u;I=c;N=f;j=h;D=l;U=p;q=d;Y=v;F=y;H=g;X=m;J=b;K=w;z=_;if(k%16===15)for(x=0;x<16;x++){T=i[x];A=o[x];C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=i[(x+9)%16];A=o[(x+9)%16];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;S=i[(x+1)%16];E=o[(x+1)%16];T=(S>>>1|E<<31)^(S>>>8|E<<24)^S>>>7;A=(E>>>1|S<<31)^(E>>>8|S<<24)^(E>>>7|S<<25);C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;S=i[(x+14)%16];E=o[(x+14)%16];T=(S>>>19|E<<13)^(E>>>29|S<<3)^S>>>6;A=(E>>>19|S<<13)^(S>>>29|E<<3)^(E>>>6|S<<26);C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;i[x]=65535&P|O<<16;o[x]=65535&C|R<<16}}T=U;A=z;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[0];A=e[0];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[0]=U=65535&P|O<<16;e[0]=z=65535&C|R<<16;T=M;A=q;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[1];A=e[1];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[1]=M=65535&P|O<<16;e[1]=q=65535&C|R<<16;T=L;A=Y;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[2];A=e[2];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[2]=L=65535&P|O<<16;e[2]=Y=65535&C|R<<16;T=B;A=F;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[3];A=e[3];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[3]=B=65535&P|O<<16;e[3]=F=65535&C|R<<16;T=I;A=H;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[4];A=e[4];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[4]=I=65535&P|O<<16;e[4]=H=65535&C|R<<16;T=N;A=X;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[5];A=e[5];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[5]=N=65535&P|O<<16;e[5]=X=65535&C|R<<16;T=j;A=J;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[6];A=e[6];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[6]=j=65535&P|O<<16;e[6]=J=65535&C|R<<16;T=D;A=K;C=65535&A;R=A>>>16;P=65535&T;O=T>>>16;T=t[7];A=e[7];C+=65535&A;R+=A>>>16;P+=65535&T;O+=T>>>16;R+=C>>>16;P+=R>>>16;O+=P>>>16;t[7]=D=65535&P|O<<16;e[7]=K=65535&C|R<<16;W+=128;n-=128}return n}function et(t,e,r){var n=new Int32Array(8),i=new Int32Array(8),o=new Uint8Array(256),s,a=r;n[0]=1779033703;n[1]=3144134277;n[2]=1013904242;n[3]=2773480762;n[4]=1359893119;n[5]=2600822924;n[6]=528734635;n[7]=1541459225;i[0]=4089235720;i[1]=2227873595;i[2]=4271175723;i[3]=1595750129;i[4]=2917565137;i[5]=725511199;i[6]=4215389547;i[7]=327033209;tt(n,i,e,r);r%=128;for(s=0;s<r;s++)o[s]=e[a-r+s];o[r]=128;r=256-128*(r<112?1:0);o[r-9]=0;d(o,r-8,a/536870912|0,a<<3);tt(n,i,o,r);for(s=0;s<8;s++)d(t,8*s,n[s],i[s]);return 0}function rt(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),u=e(),c=e(),h=e(),l=e();z(n,t[1],t[0]);z(l,r[1],r[0]);q(n,n,l);D(i,t[0],t[1]);D(l,r[0],r[1]);q(i,i,l);q(o,t[3],r[3]);q(o,o,f);q(s,t[2],r[2]);D(s,s,s);z(a,i,n);z(u,s,o);D(c,s,o);D(h,i,n);q(t[0],a,u);q(t[1],h,c);q(t[2],c,u);q(t[3],a,h)}function nt(t,e,r){var n;for(n=0;n<4;n++)L(t[n],e[n],r)}function it(t,r){var n=e(),i=e(),o=e();F(o,r[2]);q(n,r[0],o);q(i,r[1],o);B(t,i);t[31]^=N(n)<<7}function ot(t,e,r){var n,i;U(t[0],s);U(t[1],a);U(t[2],a);U(t[3],s);for(i=255;i>=0;--i){n=r[i/8|0]>>(7&i)&1;nt(t,e,n);rt(e,t);rt(t,t);nt(t,e,n)}}function st(t,r){var n=[e(),e(),e(),e()];U(n[0],h);U(n[1],l);U(n[2],a);q(n[3],h,l);ot(t,n,r)}function at(t,r,i){var o=new Uint8Array(64);var s=[e(),e(),e(),e()];var a;i||n(r,32);et(o,r,32);o[0]&=248;o[31]&=127;o[31]|=64;st(s,o);it(t,s);for(a=0;a<32;a++)r[a+32]=t[a];return 0}var ut=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ct(t,e){var r,n,i,o;for(n=63;n>=32;--n){r=0;for(i=n-32,o=n-12;i<o;++i){e[i]+=r-16*e[n]*ut[i-(n-32)];r=e[i]+128>>8;e[i]-=256*r}e[i]+=r;e[n]=0}r=0;for(i=0;i<32;i++){e[i]+=r-(e[31]>>4)*ut[i];r=e[i]>>8;e[i]&=255}for(i=0;i<32;i++)e[i]-=r*ut[i];for(n=0;n<32;n++){e[n+1]+=e[n]>>8;t[n]=255&e[n]}}function ft(t){var e=new Float64Array(64),r;for(r=0;r<64;r++)e[r]=t[r];for(r=0;r<64;r++)t[r]=0;ct(t,e)}function ht(t,r,n,i){var o=new Uint8Array(64),s=new Uint8Array(64),a=new Uint8Array(64);var u,c,f=new Float64Array(64);var h=[e(),e(),e(),e()];et(o,i,32);o[0]&=248;o[31]&=127;o[31]|=64;var l=n+64;for(u=0;u<n;u++)t[64+u]=r[u];for(u=0;u<32;u++)t[32+u]=o[32+u];et(a,t.subarray(32),n+32);ft(a);st(h,a);it(t,h);for(u=32;u<64;u++)t[u]=i[u];et(s,t,n+64);ft(s);for(u=0;u<64;u++)f[u]=0;for(u=0;u<32;u++)f[u]=a[u];for(u=0;u<32;u++)for(c=0;c<32;c++)f[u+c]+=s[u]*o[c];ct(t.subarray(32),f);return l}function lt(t,r){var n=e(),i=e(),o=e(),u=e(),f=e(),h=e(),l=e();U(t[2],a);j(t[1],r);Y(o,t[1]);q(u,o,c);z(o,o,t[2]);D(u,t[2],u);Y(f,u);Y(h,f);q(l,h,f);q(n,l,o);q(n,n,u);H(n,n);q(n,n,o);q(n,n,u);q(n,n,u);q(t[0],n,u);Y(i,t[0]);q(i,i,u);I(i,o)&&q(t[0],t[0],p);Y(i,t[0]);q(i,i,u);if(I(i,o))return-1;N(t[0])===r[31]>>7&&z(t[0],s,t[0]);q(t[3],t[0],t[1]);return 0}function pt(t,r,n,i){var o,s;var a=new Uint8Array(32),u=new Uint8Array(64);var c=[e(),e(),e(),e()],f=[e(),e(),e(),e()];s=-1;if(n<64)return-1;if(lt(f,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];et(u,t,n);ft(u);ot(c,f,u);st(f,r.subarray(32));rt(c,f);it(a,c);n-=64;if(g(r,0,a,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];s=n;return s}var dt=32,vt=24,yt=32,gt=16,mt=32,bt=32,wt=32,_t=32,St=32,Et=vt,kt=yt,xt=gt,Tt=64,At=32,Ct=64,Rt=32,Pt=64;t.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:T,crypto_stream:x,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:k,crypto_onetimeauth:C,crypto_onetimeauth_verify:R,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:P,crypto_secretbox_open:O,crypto_scalarmult:X,crypto_scalarmult_base:J,crypto_box_beforenm:W,crypto_box_afternm:G,crypto_box:Q,crypto_box_open:Z,crypto_box_keypair:K,crypto_hash:et,crypto_sign:ht,crypto_sign_keypair:at,crypto_sign_open:pt,crypto_secretbox_KEYBYTES:dt,crypto_secretbox_NONCEBYTES:vt,crypto_secretbox_ZEROBYTES:yt,crypto_secretbox_BOXZEROBYTES:gt,crypto_scalarmult_BYTES:mt,crypto_scalarmult_SCALARBYTES:bt,crypto_box_PUBLICKEYBYTES:wt,crypto_box_SECRETKEYBYTES:_t,crypto_box_BEFORENMBYTES:St,crypto_box_NONCEBYTES:Et,crypto_box_ZEROBYTES:kt,crypto_box_BOXZEROBYTES:xt,crypto_sign_BYTES:Tt,crypto_sign_PUBLICKEYBYTES:At,crypto_sign_SECRETKEYBYTES:Ct,crypto_sign_SEEDBYTES:Rt,crypto_hash_BYTES:Pt};function Ot(t,e){if(t.length!==dt)throw new Error("bad key size");if(e.length!==vt)throw new Error("bad nonce size")}function Ut(t,e){if(t.length!==wt)throw new Error("bad public key size");if(e.length!==_t)throw new Error("bad secret key size")}function Mt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Lt(t){for(var e=0;e<t.length;e++)t[e]=0}t.randomBytes=function(t){var e=new Uint8Array(t);n(e,t);return e};t.secretbox=function(t,e,r){Mt(t,e,r);Ot(r,e);var n=new Uint8Array(yt+t.length);var i=new Uint8Array(n.length);for(var o=0;o<t.length;o++)n[o+yt]=t[o];P(i,n,n.length,e,r);return i.subarray(gt)};t.secretbox.open=function(t,e,r){Mt(t,e,r);Ot(r,e);var n=new Uint8Array(gt+t.length);var i=new Uint8Array(n.length);for(var o=0;o<t.length;o++)n[o+gt]=t[o];if(n.length<32)return null;if(0!==O(i,n,n.length,e,r))return null;return i.subarray(yt)};t.secretbox.keyLength=dt;t.secretbox.nonceLength=vt;t.secretbox.overheadLength=gt;t.scalarMult=function(t,e){Mt(t,e);if(t.length!==bt)throw new Error("bad n size");if(e.length!==mt)throw new Error("bad p size");var r=new Uint8Array(mt);X(r,t,e);return r};t.scalarMult.base=function(t){Mt(t);if(t.length!==bt)throw new Error("bad n size");var e=new Uint8Array(mt);J(e,t);return e};t.scalarMult.scalarLength=bt;t.scalarMult.groupElementLength=mt;t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)};t.box.before=function(t,e){Mt(t,e);Ut(t,e);var r=new Uint8Array(St);W(r,t,e);return r};t.box.after=t.secretbox;t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)};t.box.open.after=t.secretbox.open;t.box.keyPair=function(){var t=new Uint8Array(wt);var e=new Uint8Array(_t);K(t,e);return{publicKey:t,secretKey:e}};t.box.keyPair.fromSecretKey=function(t){Mt(t);if(t.length!==_t)throw new Error("bad secret key size");var e=new Uint8Array(wt);J(e,t);return{publicKey:e,secretKey:new Uint8Array(t)}};t.box.publicKeyLength=wt;t.box.secretKeyLength=_t;t.box.sharedKeyLength=St;t.box.nonceLength=Et;t.box.overheadLength=t.secretbox.overheadLength;t.sign=function(t,e){Mt(t,e);if(e.length!==Ct)throw new Error("bad secret key size");var r=new Uint8Array(Tt+t.length);ht(r,t,t.length,e);return r};t.sign.open=function(t,e){Mt(t,e);if(e.length!==At)throw new Error("bad public key size");var r=new Uint8Array(t.length);var n=pt(r,t,t.length,e);if(n<0)return null;var i=new Uint8Array(n);for(var o=0;o<i.length;o++)i[o]=r[o];return i};t.sign.detached=function(e,r){var n=t.sign(e,r);var i=new Uint8Array(Tt);for(var o=0;o<i.length;o++)i[o]=n[o];return i};t.sign.detached.verify=function(t,e,r){Mt(t,e,r);if(e.length!==Tt)throw new Error("bad signature size");if(r.length!==At)throw new Error("bad public key size");var n=new Uint8Array(Tt+t.length);var i=new Uint8Array(Tt+t.length);var o;for(o=0;o<Tt;o++)n[o]=e[o];for(o=0;o<t.length;o++)n[o+Tt]=t[o];return pt(i,n,n.length,r)>=0};t.sign.keyPair=function(){var t=new Uint8Array(At);var e=new Uint8Array(Ct);at(t,e);return{publicKey:t,secretKey:e}};t.sign.keyPair.fromSecretKey=function(t){Mt(t);if(t.length!==Ct)throw new Error("bad secret key size");var e=new Uint8Array(At);for(var r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}};t.sign.keyPair.fromSeed=function(t){Mt(t);if(t.length!==Rt)throw new Error("bad seed size");var e=new Uint8Array(At);var r=new Uint8Array(Ct);for(var n=0;n<32;n++)r[n]=t[n];at(e,r,true);return{publicKey:e,secretKey:r}};t.sign.publicKeyLength=At;t.sign.secretKeyLength=Ct;t.sign.seedLength=Rt;t.sign.signatureLength=Tt;t.hash=function(t){Mt(t);var e=new Uint8Array(Pt);et(e,t,t.length);return e};t.hash.hashLength=Pt;t.verify=function(t,e){Mt(t,e);if(0===t.length||0===e.length)return false;if(t.length!==e.length)return false;return 0===v(t,0,e,0,t.length)};t.setPRNG=function(t){n=t};(function(){var e="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){var n=65536;t.setPRNG(function(t,r){var i,o=new Uint8Array(r);for(i=0;i<r;i+=n)e.getRandomValues(o.subarray(i,i+Math.min(r-i,n)));for(i=0;i<r;i++)t[i]=o[i];Lt(o)})}else{true;e=r(56);e&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];Lt(i)})}})()})("undefined"!==typeof t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e){},function(t,e,r){(function(e){(function(e,r){"use strict";if("undefined"!==typeof t&&t.exports)t.exports=r();else if(e.nacl)e.nacl.util=r();else{e.nacl={};e.nacl.util=r()}})(this,function(){"use strict";var t={};function r(t){if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}t.decodeUTF8=function(t){if("string"!==typeof t)throw new TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n};t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))};if("undefined"===typeof atob)if("undefined"!==typeof e.from){t.encodeBase64=function(t){return e.from(t).toString("base64")};t.decodeBase64=function(t){r(t);return new Uint8Array(Array.prototype.slice.call(e.from(t,"base64"),0))}}else{t.encodeBase64=function(t){return new e(t).toString("base64")};t.decodeBase64=function(t){r(t);return new Uint8Array(Array.prototype.slice.call(new e(t,"base64"),0))}}else{t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))};t.decodeBase64=function(t){r(t);var e,n=atob(t),i=new Uint8Array(n.length);for(e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return i}}return t})}).call(e,r(58).Buffer)},function(t,e,r){"use strict";var n=r(59);var i=r(60);var o=r(61);e.Buffer=c;e.SlowBuffer=b;e.INSPECT_MAX_BYTES=50;c.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:s();e.kMaxLength=a();function s(){try{var t=new Uint8Array(1);t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return false}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");if(c.TYPED_ARRAY_SUPPORT){t=new Uint8Array(e);t.__proto__=c.prototype}else{null===t&&(t=new c(e));t.length=e}return t}function c(t,e,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return f(this,t,e,r)}c.poolSize=8192;c._augment=function(t){t.__proto__=c.prototype;return t};function f(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return y(t,e,r,n);if("string"===typeof e)return d(t,e,r);return g(t,e)}c.from=function(t,e,r){return f(null,t,e,r)};if(c.TYPED_ARRAY_SUPPORT){c.prototype.__proto__=Uint8Array.prototype;c.__proto__=Uint8Array;"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:true})}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,r,n){h(e);if(e<=0)return u(t,e);if(void 0!==r)return"string"===typeof n?u(t,e).fill(r,n):u(t,e).fill(r);return u(t,e)}c.alloc=function(t,e,r){return l(null,t,e,r)};function p(t,e){h(e);t=u(t,e<0?0:0|m(e));if(!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}c.allocUnsafe=function(t){return p(null,t)};c.allocUnsafeSlow=function(t){return p(null,t)};function d(t,e,r){"string"===typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(e,r);t=u(t,n);var i=t.write(e,r);i!==n&&(t=t.slice(0,i));return t}function v(t,e){var r=e.length<0?0:0|m(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function y(t,e,r,n){e.byteLength;if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);if(c.TYPED_ARRAY_SUPPORT){t=e;t.__proto__=c.prototype}else t=v(t,e);return t}function g(t,e){if(c.isBuffer(e)){var r=0|m(e.length);t=u(t,r);if(0===t.length)return t;e.copy(t,0,0,r);return t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e){if("number"!==typeof e.length||et(e.length))return u(t,0);return v(t,e)}if("Buffer"===e.type&&o(e.data))return v(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function b(t){+t!=t&&(t=0);return c.alloc(+t)}c.isBuffer=function t(e){return!!(null!=e&&e._isBuffer)};c.compare=function t(e,r){if(!c.isBuffer(e)||!c.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;var n=e.length;var i=r.length;for(var o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o];i=r[o];break}if(n<i)return-1;if(i<n)return 1;return 0};c.isEncoding=function t(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};c.concat=function t(e,r){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===r){r=0;for(n=0;n<e.length;++n)r+=e[n].length}var i=c.allocUnsafe(r);var s=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,s);s+=a.length}return i};function w(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;var n=false;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(n)return V(t).length;e=(""+e).toLowerCase();n=true}}c.byteLength=w;function _(t,e,r){var n=false;(void 0===e||e<0)&&(e=0);if(e>this.length)return"";(void 0===r||r>this.length)&&(r=this.length);if(r<=0)return"";r>>>=0;e>>>=0;if(r<=e)return"";t||(t="utf8");while(true)switch(t){case"hex":return N(this,e,r);case"utf8":case"utf-8":return U(this,e,r);case"ascii":return B(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return O(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase();n=true}}c.prototype._isBuffer=true;function S(t,e,r){var n=t[e];t[e]=t[r];t[r]=n}c.prototype.swap16=function t(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)S(this,r,r+1);return this};c.prototype.swap32=function t(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4){S(this,r,r+3);S(this,r+1,r+2)}return this};c.prototype.swap64=function t(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8){S(this,r,r+7);S(this,r+1,r+6);S(this,r+2,r+5);S(this,r+3,r+4)}return this};c.prototype.toString=function t(){var e=0|this.length;if(0===e)return"";if(0===arguments.length)return U(this,0,e);return _.apply(this,arguments)};c.prototype.equals=function t(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return 0===c.compare(this,e)};c.prototype.inspect=function t(){var r="";var n=e.INSPECT_MAX_BYTES;if(this.length>0){r=this.toString("hex",0,n).match(/.{2}/g).join(" ");this.length>n&&(r+=" ... ")}return"<Buffer "+r+">"};c.prototype.compare=function t(e,r,n,i,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");void 0===r&&(r=0);void 0===n&&(n=e?e.length:0);void 0===i&&(i=0);void 0===o&&(o=this.length);if(r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;r>>>=0;n>>>=0;i>>>=0;o>>>=0;if(this===e)return 0;var s=o-i;var a=n-r;var u=Math.min(s,a);var f=this.slice(i,o);var h=e.slice(r,n);for(var l=0;l<u;++l)if(f[l]!==h[l]){s=f[l];a=h[l];break}if(s<a)return-1;if(a<s)return 1;return 0};function E(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r){n=r;r=0}else r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648);r=+r;isNaN(r)&&(r=i?0:t.length-1);r<0&&(r=t.length+r);if(r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}"string"===typeof e&&(e=c.from(e,n));if(c.isBuffer(e)){if(0===e.length)return-1;return k(t,e,r,n,i)}if("number"===typeof e){e&=255;if(c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf)return i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r);return k(t,[e],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function k(t,e,r,n,i){var o=1;var s=t.length;var a=e.length;if(void 0!==n){n=String(n).toLowerCase();if("ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n){if(t.length<2||e.length<2)return-1;o=2;s/=2;a/=2;r/=2}}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var c;if(i){var f=-1;for(c=r;c<s;c++)if(u(t,c)===u(e,-1===f?0:c-f)){-1===f&&(f=c);if(c-f+1===a)return f*o}else{-1!==f&&(c-=c-f);f=-1}}else{r+a>s&&(r=s-a);for(c=r;c>=0;c--){var h=true;for(var l=0;l<a;l++)if(u(t,c+l)!==u(e,l)){h=false;break}if(h)return c}}return-1}c.prototype.includes=function t(e,r,n){return-1!==this.indexOf(e,r,n)};c.prototype.indexOf=function t(e,r,n){return E(this,e,r,n,true)};c.prototype.lastIndexOf=function t(e,r,n){return E(this,e,r,n,false)};function x(t,e,r,n){r=Number(r)||0;var i=t.length-r;if(n){n=Number(n);n>i&&(n=i)}else n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function T(t,e,r,n){return tt(V(e,t.length-r),t,r,n)}function A(t,e,r,n){return tt(Q(e),t,r,n)}function C(t,e,r,n){return A(t,e,r,n)}function R(t,e,r,n){return tt($(e),t,r,n)}function P(t,e,r,n){return tt(Z(e,t.length-r),t,r,n)}c.prototype.write=function t(e,r,n,i){if(void 0===r){i="utf8";n=this.length;r=0}else if(void 0===n&&"string"===typeof r){i=r;n=this.length;r=0}else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0;if(isFinite(n)){n|=0;void 0===i&&(i="utf8")}else{i=n;n=void 0}}var o=this.length-r;(void 0===n||n>o)&&(n=o);if(e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");var s=false;for(;;)switch(i){case"hex":return x(this,e,r,n);case"utf8":case"utf-8":return T(this,e,r,n);case"ascii":return A(this,e,r,n);case"latin1":case"binary":return C(this,e,r,n);case"base64":return R(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();s=true}};c.prototype.toJSON=function t(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function U(t,e,r){r=Math.min(t.length,r);var n=[];var i=e;while(i<r){var o=t[i];var s=null;var a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var u,c,f,h;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1];if(128===(192&u)){h=(31&o)<<6|63&u;h>127&&(s=h)}break;case 3:u=t[i+1];c=t[i+2];if(128===(192&u)&&128===(192&c)){h=(15&o)<<12|(63&u)<<6|63&c;h>2047&&(h<55296||h>57343)&&(s=h)}break;case 4:u=t[i+1];c=t[i+2];f=t[i+3];if(128===(192&u)&&128===(192&c)&&128===(192&f)){h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&f;h>65535&&h<1114112&&(s=h)}}}if(null===s){s=65533;a=1}else if(s>65535){s-=65536;n.push(s>>>10&1023|55296);s=56320|1023&s}n.push(s);i+=a}return L(n)}var M=4096;function L(t){var e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);var r="";var n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=M));return r}function B(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function N(t,e,r){var n=t.length;(!e||e<0)&&(e=0);(!r||r<0||r>n)&&(r=n);var i="";for(var o=e;o<r;++o)i+=G(t[o]);return i}function j(t,e,r){var n=t.slice(e,r);var i="";for(var o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}c.prototype.slice=function t(e,r){var n=this.length;e=~~e;r=void 0===r?n:~~r;if(e<0){e+=n;e<0&&(e=0)}else e>n&&(e=n);if(r<0){r+=n;r<0&&(r=0)}else r>n&&(r=n);r<e&&(r=e);var i;if(c.TYPED_ARRAY_SUPPORT){i=this.subarray(e,r);i.__proto__=c.prototype}else{var o=r-e;i=new c(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i};function D(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function t(e,r,n){e|=0;r|=0;n||D(e,r,this.length);var i=this[e];var o=1;var s=0;while(++s<r&&(o*=256))i+=this[e+s]*o;return i};c.prototype.readUIntBE=function t(e,r,n){e|=0;r|=0;n||D(e,r,this.length);var i=this[e+--r];var o=1;while(r>0&&(o*=256))i+=this[e+--r]*o;return i};c.prototype.readUInt8=function t(e,r){r||D(e,1,this.length);return this[e]};c.prototype.readUInt16LE=function t(e,r){r||D(e,2,this.length);return this[e]|this[e+1]<<8};c.prototype.readUInt16BE=function t(e,r){r||D(e,2,this.length);return this[e]<<8|this[e+1]};c.prototype.readUInt32LE=function t(e,r){r||D(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]};c.prototype.readUInt32BE=function t(e,r){r||D(e,4,this.length);return 16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])};c.prototype.readIntLE=function t(e,r,n){e|=0;r|=0;n||D(e,r,this.length);var i=this[e];var o=1;var s=0;while(++s<r&&(o*=256))i+=this[e+s]*o;o*=128;i>=o&&(i-=Math.pow(2,8*r));return i};c.prototype.readIntBE=function t(e,r,n){e|=0;r|=0;n||D(e,r,this.length);var i=r;var o=1;var s=this[e+--i];while(i>0&&(o*=256))s+=this[e+--i]*o;o*=128;s>=o&&(s-=Math.pow(2,8*r));return s};c.prototype.readInt8=function t(e,r){r||D(e,1,this.length);if(!(128&this[e]))return this[e];return-1*(255-this[e]+1)};c.prototype.readInt16LE=function t(e,r){r||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n};c.prototype.readInt16BE=function t(e,r){r||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n};c.prototype.readInt32LE=function t(e,r){r||D(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};c.prototype.readInt32BE=function t(e,r){r||D(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};c.prototype.readFloatLE=function t(e,r){r||D(e,4,this.length);return i.read(this,e,true,23,4)};c.prototype.readFloatBE=function t(e,r){r||D(e,4,this.length);return i.read(this,e,false,23,4)};c.prototype.readDoubleLE=function t(e,r){r||D(e,8,this.length);return i.read(this,e,true,52,8)};c.prototype.readDoubleBE=function t(e,r){r||D(e,8,this.length);return i.read(this,e,false,52,8)};function z(t,e,r,n,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function t(e,r,n,i){e=+e;r|=0;n|=0;if(!i){var o=Math.pow(2,8*n)-1;z(this,e,r,n,o,0)}var s=1;var a=0;this[r]=255&e;while(++a<n&&(s*=256))this[r+a]=e/s&255;return r+n};c.prototype.writeUIntBE=function t(e,r,n,i){e=+e;r|=0;n|=0;if(!i){var o=Math.pow(2,8*n)-1;z(this,e,r,n,o,0)}var s=n-1;var a=1;this[r+s]=255&e;while(--s>=0&&(a*=256))this[r+s]=e/a&255;return r+n};c.prototype.writeUInt8=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,1,255,0);c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e));this[r]=255&e;return r+1};function q(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}c.prototype.writeUInt16LE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,2,65535,0);if(c.TYPED_ARRAY_SUPPORT){this[r]=255&e;this[r+1]=e>>>8}else q(this,e,r,true);return r+2};c.prototype.writeUInt16BE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,2,65535,0);if(c.TYPED_ARRAY_SUPPORT){this[r]=e>>>8;this[r+1]=255&e}else q(this,e,r,false);return r+2};function Y(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}c.prototype.writeUInt32LE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,4,4294967295,0);if(c.TYPED_ARRAY_SUPPORT){this[r+3]=e>>>24;this[r+2]=e>>>16;this[r+1]=e>>>8;this[r]=255&e}else Y(this,e,r,true);return r+4};c.prototype.writeUInt32BE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,4,4294967295,0);if(c.TYPED_ARRAY_SUPPORT){this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=255&e}else Y(this,e,r,false);return r+4};c.prototype.writeIntLE=function t(e,r,n,i){e=+e;r|=0;if(!i){var o=Math.pow(2,8*n-1);z(this,e,r,n,o-1,-o)}var s=0;var a=1;var u=0;this[r]=255&e;while(++s<n&&(a*=256)){e<0&&0===u&&0!==this[r+s-1]&&(u=1);this[r+s]=(e/a>>0)-u&255}return r+n};c.prototype.writeIntBE=function t(e,r,n,i){e=+e;r|=0;if(!i){var o=Math.pow(2,8*n-1);z(this,e,r,n,o-1,-o)}var s=n-1;var a=1;var u=0;this[r+s]=255&e;while(--s>=0&&(a*=256)){e<0&&0===u&&0!==this[r+s+1]&&(u=1);this[r+s]=(e/a>>0)-u&255}return r+n};c.prototype.writeInt8=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,1,127,-128);c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e));e<0&&(e=255+e+1);this[r]=255&e;return r+1};c.prototype.writeInt16LE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,2,32767,-32768);if(c.TYPED_ARRAY_SUPPORT){this[r]=255&e;this[r+1]=e>>>8}else q(this,e,r,true);return r+2};c.prototype.writeInt16BE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,2,32767,-32768);if(c.TYPED_ARRAY_SUPPORT){this[r]=e>>>8;this[r+1]=255&e}else q(this,e,r,false);return r+2};c.prototype.writeInt32LE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,4,2147483647,-2147483648);if(c.TYPED_ARRAY_SUPPORT){this[r]=255&e;this[r+1]=e>>>8;this[r+2]=e>>>16;this[r+3]=e>>>24}else Y(this,e,r,true);return r+4};c.prototype.writeInt32BE=function t(e,r,n){e=+e;r|=0;n||z(this,e,r,4,2147483647,-2147483648);e<0&&(e=4294967295+e+1);if(c.TYPED_ARRAY_SUPPORT){this[r]=e>>>24;this[r+1]=e>>>16;this[r+2]=e>>>8;this[r+3]=255&e}else Y(this,e,r,false);return r+4};function F(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(t,e,r,n,o){o||F(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38);i.write(t,e,r,n,23,4);return r+4}c.prototype.writeFloatLE=function t(e,r,n){return H(this,e,r,true,n)};c.prototype.writeFloatBE=function t(e,r,n){return H(this,e,r,false,n)};function X(t,e,r,n,o){o||F(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308);i.write(t,e,r,n,52,8);return r+8}c.prototype.writeDoubleLE=function t(e,r,n){return X(this,e,r,true,n)};c.prototype.writeDoubleBE=function t(e,r,n){return X(this,e,r,false,n)};c.prototype.copy=function t(e,r,n,i){n||(n=0);i||0===i||(i=this.length);r>=e.length&&(r=e.length);r||(r=0);i>0&&i<n&&(i=n);if(i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);e.length-r<i-n&&(i=e.length-r+n);var o=i-n;var s;if(this===e&&n<r&&r<i)for(s=o-1;s>=0;--s)e[s+r]=this[s+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o};c.prototype.fill=function t(e,r,n,i){if("string"===typeof e){if("string"===typeof r){i=r;r=0;n=this.length}else if("string"===typeof n){i=n;n=this.length}if(1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0;n=void 0===n?this.length:n>>>0;e||(e=0);var s;if("number"===typeof e)for(s=r;s<n;++s)this[s]=e;else{var a=c.isBuffer(e)?e:V(new c(e,i).toString());var u=a.length;for(s=0;s<n-r;++s)this[s+r]=a[s%u]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function K(t){t=W(t).replace(J,"");if(t.length<2)return"";while(t.length%4!==0)t+="=";return t}function W(t){if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}function G(t){if(t<16)return"0"+t.toString(16);return t.toString(16)}function V(t,e){e=e||Infinity;var r;var n=t.length;var i=null;var o=[];for(var s=0;s<n;++s){r=t.charCodeAt(s);if(r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189);i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);i=null;if(r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Q(t){var e=[];for(var r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Z(t,e){var r,n,i;var o=[];for(var s=0;s<t.length;++s){if((e-=2)<0)break;r=t.charCodeAt(s);n=r>>8;i=r%256;o.push(i);o.push(n)}return o}function $(t){return n.toByteArray(K(t))}function tt(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function et(t){return t!==t}},function(t,e){"use strict";e.byteLength=c;e.toByteArray=h;e.fromByteArray=d;var r=[];var n=[];var i="undefined"!==typeof Uint8Array?Uint8Array:Array;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var s=0,a=o.length;s<a;++s){r[s]=o[s];n[o.charCodeAt(s)]=s}n["-".charCodeAt(0)]=62;n["_".charCodeAt(0)]=63;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function c(t){var e=u(t);var r=e[0];var n=e[1];return 3*(r+n)/4-n}function f(t,e,r){return 3*(e+r)/4-r}function h(t){var e;var r=u(t);var o=r[0];var s=r[1];var a=new i(f(t,o,s));var c=0;var h=s>0?o-4:o;for(var l=0;l<h;l+=4){e=n[t.charCodeAt(l)]<<18|n[t.charCodeAt(l+1)]<<12|n[t.charCodeAt(l+2)]<<6|n[t.charCodeAt(l+3)];a[c++]=e>>16&255;a[c++]=e>>8&255;a[c++]=255&e}if(2===s){e=n[t.charCodeAt(l)]<<2|n[t.charCodeAt(l+1)]>>4;a[c++]=255&e}if(1===s){e=n[t.charCodeAt(l)]<<10|n[t.charCodeAt(l+1)]<<4|n[t.charCodeAt(l+2)]>>2;a[c++]=e>>8&255;a[c++]=255&e}return a}function l(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,r){var n;var i=[];for(var o=e;o<r;o+=3){n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]);i.push(l(n))}return i.join("")}function d(t){var e;var n=t.length;var i=n%3;var o=[];var s=16383;for(var a=0,u=n-i;a<u;a+=s)o.push(p(t,a,a+s>u?u:a+s));if(1===i){e=t[n-1];o.push(r[e>>2]+r[e<<4&63]+"==")}else if(2===i){e=(t[n-2]<<8)+t[n-1];o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")}return o.join("")}},function(t,e){e.read=function(t,e,r,n,i){var o,s;var a=8*i-n-1;var u=(1<<a)-1;var c=u>>1;var f=-7;var h=r?i-1:0;var l=r?-1:1;var p=t[e+h];h+=l;o=p&(1<<-f)-1;p>>=-f;f+=a;for(;f>0;o=256*o+t[e+h],h+=l,f-=8);s=o&(1<<-f)-1;o>>=-f;f+=n;for(;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:Infinity*(p?-1:1);s+=Math.pow(2,n);o-=c}return(p?-1:1)*s*Math.pow(2,o-n)};e.write=function(t,e,r,n,i,o){var s,a,u;var c=8*o-i-1;var f=(1<<c)-1;var h=f>>1;var l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;var p=n?0:o-1;var d=n?1:-1;var v=e<0||0===e&&1/e<0?1:0;e=Math.abs(e);if(isNaN(e)||Infinity===e){a=isNaN(e)?1:0;s=f}else{s=Math.floor(Math.log(e)/Math.LN2);if(e*(u=Math.pow(2,-s))<1){s--;u*=2}e+=s+h>=1?l/u:l*Math.pow(2,1-h);if(e*u>=2){s++;u/=2}if(s+h>=f){a=0;s=f}else if(s+h>=1){a=(e*u-1)*Math.pow(2,i);s+=h}else{a=e*Math.pow(2,h-1)*Math.pow(2,i);s=0}}for(;i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);s=s<<i|a;c+=i;for(;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var i=r(24);var o=r(12);var s=r(8);var a=r(9);var u=r(2);var c=function(t){n(e,t);function e(e,r){var n=this;t.call(this);this.key=e;this.options=r||{};this.state="initialized";this.connection=null;this.usingTLS=!!r.useTLS;this.timeline=this.options.timeline;this.errorCallbacks=this.buildErrorCallbacks();this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks);this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=u["default"].getNetwork();i.bind("online",function(){n.timeline.info({netinfo:"online"});"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)});i.bind("offline",function(){n.timeline.info({netinfo:"offline"});n.connection&&n.sendActivityCheck()});this.updateStrategy()}e.prototype.connect=function(){if(this.connection||this.runner)return;if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting");this.startConnecting();this.setUnavailableTimer()};e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)};e.prototype.send_event=function(t,e,r){return!!this.connection&&this.connection.send_event(t,e,r)};e.prototype.disconnect=function(){this.disconnectInternally();this.updateState("disconnected")};e.prototype.isUsingTLS=function(){return this.usingTLS};e.prototype.startConnecting=function(){var t=this;var e=function(r,n){if(r)t.runner=t.strategy.connect(0,e);else if("error"===n.action){t.emit("error",{type:"HandshakeError",error:n.error});t.timeline.error({handshakeError:n.error})}else{t.abortConnecting();t.handshakeCallbacks[n.action](n)}};this.runner=this.strategy.connect(0,e)};e.prototype.abortConnecting=function(){if(this.runner){this.runner.abort();this.runner=null}};e.prototype.disconnectInternally=function(){this.abortConnecting();this.clearRetryTimer();this.clearUnavailableTimer();if(this.connection){var t=this.abandonConnection();t.close()}};e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})};e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t});t>0&&this.emit("connecting_in",Math.round(t/1e3));this.retryTimer=new o.OneOffTimer(t||0,function(){e.disconnectInternally();e.connect()})};e.prototype.clearRetryTimer=function(){if(this.retryTimer){this.retryTimer.ensureAborted();this.retryTimer=null}};e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})};e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()};e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck();this.connection.ping();this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout});t.retryIn(0)})};e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck();this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))};e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()};e.prototype.buildConnectionCallbacks=function(t){var e=this;return a.extend({},t,{message:function(t){e.resetActivityCheck();e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection();e.shouldRetry()&&e.retryIn(1e3)}})};e.prototype.buildHandshakeCallbacks=function(t){var e=this;return a.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||Infinity);e.clearUnavailableTimer();e.setConnection(t.connection);e.socket_id=e.connection.id;e.updateState("connected",{socket_id:e.socket_id})}})};e.prototype.buildErrorCallbacks=function(){var t=this;var e=function(e){return function(r){r.error&&t.emit("error",{type:"WebSocketError",error:r.error});e(r)}};return{tls_only:e(function(){t.usingTLS=true;t.updateStrategy();t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}};e.prototype.setConnection=function(t){this.connection=t;for(var e in this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()};e.prototype.abandonConnection=function(){if(!this.connection)return;this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;this.connection=null;return e};e.prototype.updateState=function(t,e){var r=this.state;this.state=t;if(r!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+e.socket_id);s["default"].debug("State changed",r+" -> "+n);this.timeline.info({state:t,params:e});this.emit("state_change",{previous:r,current:t});this.emit(t,e)}};e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state};return e}(i["default"]);e.__esModule=true;e["default"]=c},function(t,e,r){"use strict";var n=r(9);var i=r(43);var o=r(31);var s=function(){function t(){this.channels={}}t.prototype.add=function(t,e){this.channels[t]||(this.channels[t]=a(t,e));return this.channels[t]};t.prototype.all=function(){return n.values(this.channels)};t.prototype.find=function(t){return this.channels[t]};t.prototype.remove=function(t){var e=this.channels[t];delete this.channels[t];return e};t.prototype.disconnect=function(){n.objectApply(this.channels,function(t){t.disconnect()})};return t}();e.__esModule=true;e["default"]=s;function a(t,e){if(0===t.indexOf("private-encrypted-")){if("ReactNative"==navigator.product){var r="Encrypted channels are not yet supported when using React Native builds.";throw new o.UnsupportedFeature(r)}return i["default"].createEncryptedChannel(t,e)}return 0===t.indexOf("private-")?i["default"].createPrivateChannel(t,e):0===t.indexOf("presence-")?i["default"].createPresenceChannel(t,e):i["default"].createChannel(t,e)}},function(t,e,r){"use strict";var n=r(43);var i=r(11);var o=r(31);var s=r(9);var a=function(){function t(t,e,r,n){this.name=t;this.priority=e;this.transport=r;this.options=n||{}}t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})};t.prototype.connect=function(t,e){var r=this;if(!this.isSupported())return u(new o.UnsupportedStrategy,e);if(this.priority<t)return u(new o.TransportPriorityTooLow,e);var i=false;var a=this.transport.createConnection(this.name,this.priority,this.options.key,this.options);var c=null;var f=function(){a.unbind("initialized",f);a.connect()};var h=function(){c=n["default"].createHandshake(a,function(t){i=true;d();e(null,t)})};var l=function(t){d();e(t)};var p=function(){d();var t;t=s.safeJSONStringify(a);e(new o.TransportClosed(t))};var d=function(){a.unbind("initialized",f);a.unbind("open",h);a.unbind("error",l);a.unbind("closed",p)};a.bind("initialized",f);a.bind("open",h);a.bind("error",l);a.bind("closed",p);a.initialize();return{abort:function(){if(i)return;d();c?c.close():a.close()},forceMinPriority:function(t){if(i)return;r.priority<t&&(c?c.close():a.close())}}};return t}();e.__esModule=true;e["default"]=a;function u(t,e){i["default"].defer(function(){e(t)});return{abort:function(){},forceMinPriority:function(){}}}},function(t,e,r){"use strict";var n=r(9);var i=r(11);var o=r(12);var s=function(){function t(t,e){this.strategies=t;this.loop=Boolean(e.loop);this.failFast=Boolean(e.failFast);this.timeout=e.timeout;this.timeoutLimit=e.timeoutLimit}t.prototype.isSupported=function(){return n.any(this.strategies,i["default"].method("isSupported"))};t.prototype.connect=function(t,e){var r=this;var n=this.strategies;var i=0;var o=this.timeout;var s=null;var a=function(u,c){if(c)e(null,c);else{i+=1;r.loop&&(i%=n.length);if(i<n.length){if(o){o*=2;r.timeoutLimit&&(o=Math.min(o,r.timeoutLimit))}s=r.tryStrategy(n[i],t,{timeout:o,failFast:r.failFast},a)}else e(true)}};s=this.tryStrategy(n[i],t,{timeout:o,failFast:this.failFast},a);return{abort:function(){s.abort()},forceMinPriority:function(e){t=e;s&&s.forceMinPriority(e)}}};t.prototype.tryStrategy=function(t,e,r,n){var i=null;var s=null;r.timeout>0&&(i=new o.OneOffTimer(r.timeout,function(){s.abort();n(true)}));s=t.connect(e,function(t,e){if(t&&i&&i.isRunning()&&!r.failFast)return;i&&i.ensureAborted();n(t,e)});return{abort:function(){i&&i.ensureAborted();s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}};return t}();e.__esModule=true;e["default"]=s},function(t,e,r){"use strict";var n=r(9);var i=r(11);var o=function(){function t(t){this.strategies=t}t.prototype.isSupported=function(){return n.any(this.strategies,i["default"].method("isSupported"))};t.prototype.connect=function(t,e){return s(this.strategies,t,function(t,r){return function(i,o){r[t].error=i;if(i){a(r)&&e(true);return}n.apply(r,function(t){t.forceMinPriority(o.transport.priority)});e(null,o)}})};return t}();e.__esModule=true;e["default"]=o;function s(t,e,r){var i=n.map(t,function(t,n,i,o){return t.connect(e,r(n,o))});return{abort:function(){n.apply(i,u)},forceMinPriority:function(t){n.apply(i,function(e){e.forceMinPriority(t)})}}}function a(t){return n.all(t,function(t){return Boolean(t.error)})}function u(t){if(!t.error&&!t.aborted){t.abort();t.aborted=true}}},function(t,e,r){"use strict";var n=r(11);var i=r(2);var o=r(65);var s=r(9);var a=function(){function t(t,e,r){this.strategy=t;this.transports=e;this.ttl=r.ttl||18e5;this.usingTLS=r.useTLS;this.timeline=r.timeline}t.prototype.isSupported=function(){return this.strategy.isSupported()};t.prototype.connect=function(t,e){var r=this.usingTLS;var i=c(r);var s=[this.strategy];if(i&&i.timestamp+this.ttl>=n["default"].now()){var a=this.transports[i.transport];if(a){this.timeline.info({cached:true,transport:i.transport,latency:i.latency});s.push(new o["default"]([a],{timeout:2*i.latency+1e3,failFast:true}))}}var u=n["default"].now();var l=s.pop().connect(t,function i(o,a){if(o){h(r);if(s.length>0){u=n["default"].now();l=s.pop().connect(t,i)}else e(o)}else{f(r,a.transport.name,n["default"].now()-u);e(null,a)}});return{abort:function(){l.abort()},forceMinPriority:function(e){t=e;l&&l.forceMinPriority(e)}}};return t}();e.__esModule=true;e["default"]=a;function u(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function c(t){var e=i["default"].getLocalStorage();if(e)try{var r=e[u(t)];if(r)return JSON.parse(r)}catch(e){h(t)}return null}function f(t,e,r){var o=i["default"].getLocalStorage();if(o)try{o[u(t)]=s.safeJSONStringify({timestamp:n["default"].now(),transport:e,latency:r})}catch(t){}}function h(t){var e=i["default"].getLocalStorage();if(e)try{delete e[u(t)]}catch(t){}}},function(t,e,r){"use strict";var n=r(12);var i=function(){function t(t,e){var r=e.delay;this.strategy=t;this.options={delay:r}}t.prototype.isSupported=function(){return this.strategy.isSupported()};t.prototype.connect=function(t,e){var r=this.strategy;var i;var o=new n.OneOffTimer(this.options.delay,function(){i=r.connect(t,e)});return{abort:function(){o.ensureAborted();i&&i.abort()},forceMinPriority:function(e){t=e;i&&i.forceMinPriority(e)}}};return t}();e.__esModule=true;e["default"]=i},function(t,e){"use strict";var r=function(){function t(t,e,r){this.test=t;this.trueBranch=e;this.falseBranch=r}t.prototype.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()};t.prototype.connect=function(t,e){var r=this.test()?this.trueBranch:this.falseBranch;return r.connect(t,e)};return t}();e.__esModule=true;e["default"]=r},function(t,e){"use strict";var r=function(){function t(t){this.strategy=t}t.prototype.isSupported=function(){return this.strategy.isSupported()};t.prototype.connect=function(t,e){var r=this.strategy.connect(t,function(t,n){n&&r.abort();e(t,n)});return r};return t}();e.__esModule=true;e["default"]=r},function(t,e,r){"use strict";var n=r(5);e.getGlobalConfig=function(){return{wsHost:n["default"].host,wsPort:n["default"].ws_port,wssPort:n["default"].wss_port,wsPath:n["default"].ws_path,httpHost:n["default"].sockjs_host,httpPort:n["default"].sockjs_http_port,httpsPort:n["default"].sockjs_https_port,httpPath:n["default"].sockjs_path,statsHost:n["default"].stats_host,authEndpoint:n["default"].channel_auth_endpoint,authTransport:n["default"].channel_auth_transport,activity_timeout:n["default"].activity_timeout,pong_timeout:n["default"].pong_timeout,unavailable_timeout:n["default"].unavailable_timeout}};e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])})},4:function(t,e,r){"use strict";var n=r(94);var i=r(193);var o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return"[object ArrayBuffer]"===o.call(t)}function u(t){return"undefined"!==typeof FormData&&t instanceof FormData}function c(t){var e;e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer;return e}function f(t){return"string"===typeof t}function h(t){return"number"===typeof t}function l(t){return"undefined"===typeof t}function p(t){return null!==t&&"object"===typeof t}function d(t){return"[object Date]"===o.call(t)}function v(t){return"[object File]"===o.call(t)}function y(t){return"[object Blob]"===o.call(t)}function g(t){return"[object Function]"===o.call(t)}function m(t){return p(t)&&g(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){if("undefined"!==typeof navigator&&"ReactNative"===navigator.product)return false;return"undefined"!==typeof window&&"undefined"!==typeof document}function S(t,e){if(null===t||"undefined"===typeof t)return;"object"!==typeof t&&(t=[t]);if(s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function E(){var t={};function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=E(t[r],e):t[r]=e}for(var r=0,n=arguments.length;r<n;r++)S(arguments[r],e);return t}function k(t,e,r){S(e,function e(i,o){t[o]=r&&"function"===typeof i?n(i,r):i});return t}t.exports={isArray:s,isArrayBuffer:a,isBuffer:i,isFormData:u,isArrayBufferView:c,isString:f,isNumber:h,isObject:p,isUndefined:l,isDate:d,isFile:v,isBlob:y,isFunction:g,isStream:m,isURLSearchParams:b,isStandardBrowserEnv:_,forEach:S,merge:E,extend:k,trim:w}},65:function(t,e,r){"use strict";(function(e){var n=r(4);var i=r(195);var o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function a(){var t;"undefined"!==typeof XMLHttpRequest?t=r(95):"undefined"!==typeof e&&(t=r(95));return t}var u={adapter:a(),transformRequest:[function t(e,r){i(r,"Content-Type");if(n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e)){s(r,"application/x-www-form-urlencoded;charset=utf-8");return e.toString()}if(n.isObject(e)){s(r,"application/json;charset=utf-8");return JSON.stringify(e)}return e}],transformResponse:[function t(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function t(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}};n.forEach(["delete","get","head"],function t(e){u.headers[e]={}});n.forEach(["post","put","patch"],function t(e){u.headers[e]=n.merge(o)});t.exports=u}).call(e,r(88))},94:function(t,e,r){"use strict";t.exports=function t(e,r){return function t(){var n=new Array(arguments.length);for(var i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(r,n)}}},95:function(t,e,r){"use strict";var n=r(4);var i=r(196);var o=r(198);var s=r(199);var a=r(200);var u=r(96);var c="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r(201);t.exports=function t(e){return new Promise(function t(f,h){var l=e.data;var p=e.headers;n.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest;var v="onreadystatechange";var y=false;if((true,"undefined"!==typeof window)&&window.XDomainRequest&&!("withCredentials"in d)&&!a(e.url)){d=new window.XDomainRequest;v="onload";y=true;d.onprogress=function t(){};d.ontimeout=function t(){}}if(e.auth){var g=e.auth.username||"";var m=e.auth.password||"";p.Authorization="Basic "+c(g+":"+m)}d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),true);d.timeout=e.timeout;d[v]=function t(){if(!d||4!==d.readyState&&!y)return;if(0===d.status&&!(d.responseURL&&0===d.responseURL.indexOf("file:")))return;var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null;var n=e.responseType&&"text"!==e.responseType?d.response:d.responseText;var o={data:n,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};i(f,h,o);d=null};d.onerror=function t(){h(u("Network Error",e,null,d));d=null};d.ontimeout=function t(){h(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d));d=null};if(n.isStandardBrowserEnv()){var b=r(202);var w=(e.withCredentials||a(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;w&&(p[e.xsrfHeaderName]=w)}"setRequestHeader"in d&&n.forEach(p,function t(e,r){"undefined"===typeof l&&"content-type"===r.toLowerCase()?delete p[r]:d.setRequestHeader(r,e)});e.withCredentials&&(d.withCredentials=true);if(e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress);"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress);e.cancelToken&&e.cancelToken.promise.then(function t(e){if(!d)return;d.abort();h(e);d=null});void 0===l&&(l=null);d.send(l)})}},96:function(t,e,r){"use strict";var n=r(197);t.exports=function t(e,r,i,o,s){var a=new Error(e);return n(a,r,i,o,s)}},97:function(t,e,r){"use strict";t.exports=function t(e){return!!(e&&e.__CANCEL__)}},98:function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function t(){return"Cancel"+(this.message?": "+this.message:"")};n.prototype.__CANCEL__=true;t.exports=n}},[183]);return{page:t.default}});